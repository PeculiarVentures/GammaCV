webpackJsonp([36],Array(50).concat([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(81),r=e.n(a),i=e(76),o=e.n(i),s=e(77),u=e.n(s),c=e(82),l=e.n(c),f=e(83),h=e.n(f),p=e(16),d=e.n(p),v=e(17),g=e.n(v),m=e(67),y=e(302),x=e(169),_=e(213),k=e.n(_),b=function(t){function n(t){o()(this,n);var a=l()(this,(n.__proto__||r()(n)).call(this));return a.state={example:!1,notFound:!1,error:null},a.pr=e(482)("./"+t.match.params.id+".js").then(function(t){return a.setState({example:t.default})}).catch(function(t){return a.setState({notFound:!0}),Object(x.a)(t)}),a}return h()(n,t),u()(n,[{key:"componentDidCatch",value:function(t){this.setState({error:t})}},{key:"render",value:function(){var t=this.state,n=t.error,e=t.example,a=t.notFound;return n?d.a.createElement("div",{className:k.a.example_wrapper},d.a.createElement("div",{style:{display:"inline-block"}},d.a.createElement(m.j,{type:"b2",color:"black",align:"center"},n.message))):e?d.a.createElement(y.a,{example:e,exampleName:this.props.match.params.id}):a?d.a.createElement("div",{className:k.a.example_wrapper},d.a.createElement("div",{style:{display:"inline-block"}},d.a.createElement(m.j,{type:"h1",color:"black",align:"center",style:{marginBottom:"15px"}},"404"),d.a.createElement(m.j,{type:"h3",color:"black",align:"center"},"Page not found"))):null}}]),n}(p.Component);b.propTypes={match:g.a.shape({params:g.a.object})},b.defaultProps={match:{params:{}}},n.default=b},,,,,,,,,,,function(t,n,e){"use strict";var a=e(355),r=e.n(a),i=e(100),o=e.n(i),s=e(71),u=e.n(s),c=e(72),l=e.n(c),f=e(138),h=e(62),p=function(){function t(n){u()(this,t),this.op=new f.a(n),this.name=n,this.checkShape=function(t){return t[o()(t)[0]]},this.preCompile=function(){},this.postCompile=function(){},this.chunks=[]}return l()(t,[{key:"GLSLKernel",value:function(t){return h.a("string"==typeof t,"RegisterOperation: The kernel should be a string but it is not."),this.op.kernel=t,this}},{key:"LoadChunk",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var a=!0,i=!1,o=void 0;try{for(var s,u=r()(n);!(a=(s=u.next()).done);a=!0){var c=s.value;h.a(h.h(c),"RegisterOperation: There is no available GLSL chunk supported: "+c)}}catch(t){i=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(i)throw o}}return this.op.chunks=this.op.chunks.concat(n),this}},{key:"Input",value:function(t,n){return h.a(h.i(t)),this.op.input[t]={name:t,dtype:n},this}},{key:"Output",value:function(t){return h.a(null===this.op.dtype,"RegisterOperation: The operation allows a single output."),this.op.dtype=t,this}},{key:"Constant",value:function(t,n){return h.a(h.i(t)),this.op.constant[t]=n,this}},{key:"SetShapeFn",value:function(t){return h.a("function"==typeof t,"RegisterOperation: SetShapeFn should receive function in first argument"),this.checkShape=t,this}},{key:"PreCompile",value:function(t){return h.a("function"==typeof t,"RegisterOperation: PreCompile should receive function in first argument"),this.preCompile=t,this}},{key:"PostCompile",value:function(t){return h.a("function"==typeof t,"RegisterOperation: PostCompile should receive function in first argument"),this.postCompile=t,this}},{key:"Uniform",value:function(t,n,e){return h.a(h.i(t)),this.op.uniform[t]={name:t,dtype:n,defaultValue:e},this}},{key:"Compile",value:function(t){var n=this.op.clone(),e={},a=o()(t);this.preCompile(n);for(var r=0;r<a.length;r+=1){var i=a[r],s=t[i];h.a(!!s,"RegisterOperation:"+n.name+"."+i+":\n         Can't compile operation with undefined input."),h.a(h.g(s)||h.e(s)||h.f(s),"RegisterOperation:"+n.name+"."+i+":\n         Can't compile operation with invalid input type.\n         You can only use Tensor or another Operation to be an input"),e[i]=t[i].shape,n.assignInput(i,t[i])}return n.shape=this.checkShape(e),n.sequence=n.getDependencies(),n}}]),t}();n.a=p},function(t,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return v}),e.d(n,"k",function(){return g}),e.d(n,"f",function(){return m}),e.d(n,"e",function(){return y}),e.d(n,"g",function(){return x}),e.d(n,"l",function(){return _}),e.d(n,"d",function(){return k}),e.d(n,"h",function(){return b}),e.d(n,"i",function(){return S}),e.d(n,"j",function(){return E}),n.c=function(t,n){};var a,r=e(113),i=e.n(r),o=e(71),s=e.n(o),u=e(114),c=e.n(u),l=e(118),f=e.n(l),h=e(69),p=["pickCurrentValue","pickValue","float"],d=function(t,n){if(!t)throw Error(n)},v=function(t,n){if(t.shape.length!==n.shape.length)return!1;for(var e=0;e<t.shape.length;e+=1)if(t.shape[e]!==n.shape[e])return!1;return!0},g=function(t){return Array.isArray(t)&&t.length>0&&!t.some(function(t){return t%1!=0})},m=function(t){return t instanceof h.e},y=function(t){return t instanceof h.d},x=function(t){return t instanceof h.g},_=function(t){return t instanceof HTMLVideoElement},k=function(t){return t instanceof HTMLCanvasElement},b=function(t){return p.includes(t)},S=function(t){return/^[A-Za-z](\w+)?$/.test(t)},E=function(t){return t[0]>0&&t[1]>0};a=Error,f()(function t(){return s()(this,t),c()(this,(t.__proto__||i()(t)).apply(this,arguments))},a)},,,,function(t,n){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},,,function(t,n,e){"use strict";var a=e(306);e.d(n,"f",function(){return a.a}),e(189),e(61);var r=e(86);e.d(n,"g",function(){return r.a});var i=e(138);e.d(n,"e",function(){return i.a});var o=e(358);e.d(n,"d",function(){return o.a});var s=e(359);e.d(n,"a",function(){return s.a}),e.d(n,"l",function(){return s.b}),e.d(n,"m",function(){return s.c}),e.d(n,"n",function(){return s.d}),e.d(n,"p",function(){return s.e}),e(62);var u=e(374);e.d(n,"b",function(){return u.a}),e.d(n,"h",function(){return u.b}),e.d(n,"i",function(){return u.c}),e.d(n,"j",function(){return u.d}),e.d(n,"k",function(){return u.e}),e.d(n,"o",function(){return u.f}),e.d(n,"q",function(){return u.g}),e.d(n,"r",function(){return u.h}),e.d(n,"s",function(){return u.i}),e.d(n,"t",function(){return u.j}),e.d(n,"u",function(){return u.k}),e.d(n,"v",function(){return u.l}),e.d(n,"w",function(){return u.m}),e.d(n,"x",function(){return u.n}),e.d(n,"y",function(){return u.o}),e.d(n,"z",function(){return u.p}),e.d(n,"A",function(){return u.q}),e.d(n,"B",function(){return u.r}),e.d(n,"C",function(){return u.s}),e.d(n,"D",function(){return u.t}),e.d(n,"E",function(){return u.u}),e.d(n,"F",function(){return u.v}),e.d(n,"G",function(){return u.w}),e.d(n,"H",function(){return u.x}),e.d(n,"I",function(){return u.y}),e.d(n,"J",function(){return u.z}),e.d(n,"K",function(){return u.A}),e.d(n,"L",function(){return u.B}),e.d(n,"M",function(){return u.C}),e.d(n,"N",function(){return u.D}),e.d(n,"O",function(){return u.E}),e.d(n,"P",function(){return u.F}),e.d(n,"S",function(){return u.G}),e.d(n,"T",function(){return u.H});var c=e(148);e.d(n,"Q",function(){return c.b}),e.d(n,"R",function(){return c.c});var l=e(447);e.d(n,"c",function(){return l.a})},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,e){"use strict";n.__esModule=!0;var a,r=(a=e(311))&&a.__esModule?a:{default:a};n.default=function(){function t(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r.default)(t,a.key,a)}}return function(n,e,a){return e&&t(n.prototype,e),a&&t(n,a),n}}()},function(t,n,e){var a=e(134)("wks"),r=e(111),i=e(70).Symbol,o="function"==typeof i;(t.exports=function(t){return a[t]||(a[t]=o&&i[t]||(o?i:r)("Symbol."+t))}).store=a},,function(t,n,e){var a=e(70),r=e(66),i=e(96),o=e(91),s=e(90),u=function(t,n,e){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,g=t&u.B,m=t&u.W,y=p?r:r[n]||(r[n]={}),x=y.prototype,_=p?a:d?a[n]:(a[n]||{}).prototype;for(c in p&&(e=n),e)(l=!h&&_&&void 0!==_[c])&&s(y,c)||(f=l?_[c]:e[c],y[c]=p&&"function"!=typeof _[c]?e[c]:g&&l?i(f,a):m&&_[c]==f?function(t){var n=function(n,e,a){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,a)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,t&u.R&&x&&!x[c]&&o(x,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},,,function(t,n,e){var a=e(88);t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},,,,,,function(t,n,e){var a=e(78),r=e(175),i=e(137),o=Object.defineProperty;n.f=e(85)?Object.defineProperty:function(t,n,e){if(a(t),n=i(n,!0),a(e),r)try{return o(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){t.exports=!e(97)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var a=e(113),r=e.n(a),i=e(71),o=e.n(i),s=e(72),u=e.n(s),c=e(114),l=e.n(c),f=e(118),h=e.n(f),p=e(148),d=e(145),v=e(62),g=e(89),m=function(t){function n(t,e,a,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;o()(this,n);var u=l()(this,(n.__proto__||r()(n)).call(this,"Tensor"));return u.dtype=t,u.shape=e||[a.length],v.a(v.k(u.shape),"Tensor: Shape is not valid"),i&&(v.a(v.k(i),"Tensor: Stride is not valid"),v.a(u.shape.length===i.length,"Tensor: Stride length should be equal to shape length")),v.a("number"==typeof s&&s%1==0,"Tensor: Offset should be integer, but got "+s),u.size=n.GetSize(u.shape),u.stride=i||u._defineStride(u.shape),u.offset=s,u._compileJITMethods(),void 0===a?(u.data=n.Malloc(t,u.size),u.empty=n.Malloc(t,u.size)):u.assign(a),g.a.SUPPORTS_FLOAT_TEXTURES||"float32"!==t||(u.uint8View=new Uint8Array(u.data.buffer)),u}return h()(n,t),u()(n,[{key:"_compileJITMethods",value:function(){var t=this,n=Object(p.a)(this.shape.length),e=n.map(function(t){return"i"+t}).join(","),a=this.offset+"+"+n.map(function(n){return t.stride[n]+"*i"+n}).join("+");this.get=Function("return function get("+e+") { return this.data["+a+"]; }")(),this.set=Function("return function get("+e+", v) { this.data["+a+"] = v; }")(),this.index=Function("return function get("+e+", v) { return "+a+"; }")()}},{key:"_defineStride",value:function(t){for(var n=t.length,e=Array(n),a=n-1,r=1;a>=0;a-=1)e[a]=r,r*=this.shape[a];return e}},{key:"assign",value:function(t){var e=n.DefineType(t),a=t.length;return v.a(e===this.dtype,"Tensor: Different dtypes assigned: \n   expected - "+this.dtype+" \n   actual - "+e),v.a(a===this.size+this.offset,"Tensor: Different sizes assigned: \n   expected - "+(this.size+this.offset)+" \n   actual - "+a),this.data=t,this}},{key:"release",value:function(){return this.empty?this.data.set(this.empty):this.data=n.Malloc(this.dtype,this.size),this}},{key:"relese",value:function(){return v.c("Tensor: relese"),this.release(),this}},{key:"clone",value:function(){var t=new n(this.dtype,this.shape,void 0,this.stride,this.offset);return Object(p.b)(this,t),t}}],[{key:"IndexToCoord",value:function(t,n){for(var e=Array(t.length),a=n,r=t.reduce(function(t,n){return t*n}),i=0;i<=t.length-2;i+=1){var o=~~(a/(r/=t[i]));a%=r,e[i]=o}return e[e.length-1]=a%t[t.length-1],e}},{key:"CoordToIndex",value:function(t,n){for(var e=1,a=0,r=t.length-1;r>=0;r-=1)a+=e*n[r],e*=t[r];return a}},{key:"Malloc",value:function(t,n){switch(t){case"uint8":return new Uint8Array(n);case"uint16":return new Uint16Array(n);case"uint32":return new Uint32Array(n);case"int8":return new Int8Array(n);case"int16":return new Int16Array(n);case"int32":return new Int32Array(n);case"float32":return new Float32Array(n);case"float64":return new Float64Array(n);case"uint8c":return new Uint8ClampedArray(n);case"array":return Array(n);default:throw Error("Tensor: Unexpected type: "+t+".")}}},{key:"DefineType",value:function(t){var n=Object.prototype.toString.call(t);switch(n){case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Float32Array]":return"float32";case"[object Float64Array]":return"float64";case"[object Uint8ClampedArray]":return"uint8c";case"[object Array]":return"array";default:throw Error("Tensor: Unknown dtype: "+n+".")}}},{key:"GetTypedArray",value:function(t,e){if(t===n.DefineType(e))return e;switch(t){case"uint8":return new Uint8Array(e);case"uint16":return new Uint16Array(e);case"uint32":return new Uint32Array(e);case"int8":return new Int8Array(e);case"int16":return new Int16Array(e);case"int32":return new Int32Array(e);case"float32":return new Float32Array(e);case"float64":return new Float64Array(e);case"uint8c":return new Uint8ClampedArray(e);case"array":return Array(e);default:throw Error("Unknown type: "+t+".")}}},{key:"GetSize",value:function(t){return t.reduce(function(t,n){return t*n},1)}}]),n}(d.a);n.a=m},,function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){"use strict";var a=e(188),r=e.n(a),i={},o={SUPPORTS_FLOAT_TEXTURES:function(){var t=document.createElement("canvas").getContext("webgl");if(!t)return!1;if(!t.getExtension("OES_texture_float"))return!1;var n=t.createFramebuffer(),e=t.createTexture();i.MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE,r=void 0;try{t.readPixels(0,0,1,1,t.RGBA,t.FLOAT,new Float32Array(4)),r=t.getError()===t.NO_ERROR}catch(t){r=!1}return a&&r}(),DEBUG:!1,MAX_TEXTURE_SIZE:i.MAX_TEXTURE_SIZE},s=r()({},o);n.a=s},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var a=e(84),r=e(104);t.exports=e(85)?function(t,n,e){return a.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},,,function(t,n,e){var a=e(130);t.exports=function(t){return Object(a(t))}},function(t,n,e){var a=e(173),r=e(130);t.exports=function(t){return a(r(t))}},function(t,n,e){var a=e(112);t.exports=function(t,n,e){if(a(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,a){return t.call(n,e,a)};case 3:return function(e,a,r){return t.call(n,e,a,r)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,,function(t,n,e){t.exports={default:e(307),__esModule:!0}},function(t,n,e){var a=e(172),r=e(135);t.exports=Object.keys||function(t){return a(t,r)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n){t.exports=!0},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports={}},,,,,,function(t,n){var e=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+a).toString(36))}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){t.exports={default:e(314),__esModule:!0}},function(t,n,e){"use strict";n.__esModule=!0;var a,r=(a=e(139))&&a.__esModule?a:{default:a};n.default=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":(0,r.default)(n))&&"function"!=typeof n?t:n}},function(t,n,e){"use strict";var a=e(318)(!0);e(177)(String,"String",function(t){this._t=t+"",this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=a(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){var a=e(84).f,r=e(90),i=e(73)("toStringTag");t.exports=function(t,n,e){t&&!r(t=e?t:t.prototype,i)&&a(t,i,{configurable:!0,value:n})}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){"use strict";n.__esModule=!0;var a=o(e(333)),r=o(e(337)),i=o(e(139));function o(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":(0,i.default)(n)));t.prototype=(0,r.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(a.default?(0,a.default)(t,n):t.__proto__=n)}},function(t,n,e){"use strict";
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function a(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1],e=t,a=0;a<n.length;a+=1)e/=n[a];return 1===e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=Math.pow(t,1/n);if(t%1!=0)throw new RangeError("Can't get parallel reduction steps for non-integer, got \""+t+'"');if(a<1)throw new RangeError("Can't get parallel reduction steps for maxLayerSize below less than 1, got \""+a+'"');if(r%1==0&&r<a)return Array(n).fill(r);for(var i=[],o=t,s=0;s<n;s+=1){for(var u=Math.ceil(Math.pow(o,1/(n-s)));(o%u!=0||o/u>a)&&o/u!=1;)u+=1;if(1===u&&e)break;o/=u,i.push(u)}return i}n.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[[1,1]];return a(t[0],n.map(function(t){return t[0]}))&&a(t[0],n.map(function(t){return t[1]}))},n.c=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=r(t[0],n,e,a[0]),o=r(t[1],n,e,a[1]),s=[],u=0;u<n&&(i[u]||o[u]);u+=1)s.push([i[u]||1,o[u]||1]);return s},n.a=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.ceil((t-n+1)/e)}},function(t,n,e){t.exports={default:e(465),__esModule:!0}},,,,,,,,,,function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var a=e(132),r=Math.min;t.exports=function(t){return t>0?r(a(t),9007199254740991):0}},function(t,n){var e=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:e)(t)}},function(t,n,e){var a=e(134)("keys"),r=e(111);t.exports=function(t){return a[t]||(a[t]=r(t))}},function(t,n,e){var a=e(66),r=e(70),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:a.version,mode:e(103)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var a=e(88),r=e(70).document,i=a(r)&&a(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n,e){var a=e(88);t.exports=function(t,n){if(!a(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!a(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!a(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!a(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){"use strict";var a=e(100),r=e.n(a),i=e(113),o=e.n(i),s=e(71),u=e.n(s),c=e(72),l=e.n(c),f=e(114),h=e.n(f),p=e(118),d=e.n(p),v=e(145),g=e(340),m=e(341),y=e(342),x=e.n(y),_=e(183),k=e(347),b=e(89),S=e(62),E=function(t){function n(t){u()(this,n),S.a(void 0!==t,"Operation: Operation should have a name");var e=h()(this,(n.__proto__||o()(n)).call(this,t));return e.dtype=null,e.input={},e.uniform={},e.constant={},e.chunks=[],e.inputKeys=[],e.isInitialized=!1,e.lastCtx=Math.random(),e.cache=!0,e}return d()(n,t),l()(n,[{key:"run",value:function(t,n,e){S.a(this.isInitialized,"Operation: Unable to run uninitialized operation.");var a=this.gl,r=t.texture[this.name];if(n===this.lastCtx&&this.cache&&!e)return r.bind(this.program,!1,this.inputKeys.length),this.bindBuffer(),!1;this.lastCtx=n,a.useProgram(this.program);for(var i=0;i<this.inputKeys.length;i+=1){var o=this.inputKeys[i],s=this.input[o],u=s.name,c=t.texture[u];c.bind(this.program,o,i),S.g(s)&&c.set(s),S.e(s)&&c.set(s.media)}return r.bind(this.program,!1,this.inputKeys.length),this.bindBuffer(),b.a.SUPPORTS_FLOAT_TEXTURES?a.viewport(0,0,this.shape[1],this.shape[0]):a.viewport(0,0,("float32"===this.dtype?4:1)*this.shape[1],this.shape[0]),a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0),!0}},{key:"unbindBuffer",value:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"bindBuffer",value:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)}},{key:"init",value:function(t){if(!this.isInitialized){if(this.gl=t,this.program=t.createProgram(),this.framebuffer=t.createFramebuffer(),this.isInitialized)return!1;this.constant.OUT_VIEW="vec2("+this.shape[1]+", "+this.shape[0]+")",this.kernel=Object(k.a)(this);try{this.vertexShader=this.getShader("vertex",x.a),t.attachShader(this.program,this.vertexShader),this.fragmentShader=this.getShader("fragment",this.kernel),t.attachShader(this.program,this.fragmentShader),t.linkProgram(this.program),t.useProgram(this.program)}catch(t){throw Object(_.a)(this.kernel,this.name,t),Error("Operation: Error during shader compilation.\n"+t.message)}this.attributes={aVertexPosition:new m.a(this.gl,this.program,"aVertexPosition","vec3"),aTextureCoords:new m.a(this.gl,this.program,"aTextureCoords","vec2"),aIndices:new m.a(this.gl,this.program,"aIndices","int")},this.attributes.aVertexPosition.set([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),this.attributes.aTextureCoords.set([1,1,0,1,0,0,1,0]),this.attributes.aIndices.set([0,1,2,0,2,3]);for(var n=r()(this.uniform),e=0;e<n.length;e+=1){var a=this.uniform[n[e]];this.uniform[n[e]]=new g.a(this.gl,this.program,a.name,a.dtype),a.defaultValue&&this.uniform[n[e]].set(a.defaultValue)}this.isInitialized=!0}return!0}},{key:"getShader",value:function(t,n){var e,a=this.gl;if(e="fragment"===t?a.createShader(a.FRAGMENT_SHADER):a.createShader(a.VERTEX_SHADER),a.shaderSource(e,n),a.compileShader(e),!a.getShaderParameter(e,a.COMPILE_STATUS))throw Error("Operation: An error occurred compiling the shaders.\n"+a.getShaderInfoLog(e));return e}},{key:"traverse",value:function(t,n){for(var e=r()(this.input),a=0;a<e.length;a+=1){var i=e[a];S.f(this.input[i])?this.input[i].traverse(t,n):t(this.input[i],n)}t(this,n)}},{key:"getDependencies",value:function(){for(var t=[],n=r()(this.input),e=0;e<n.length;e+=1){var a=n[e];if(S.f(this.input[a])){for(var i=this.input[a].getDependencies(),o=0;o<i.length;o+=1)-1===t.indexOf(i[o])&&t.push(i[o]);t.concat(i)}}return t.push(this.name),t}},{key:"assignInput",value:function(t,n){this.input[t]=n,-1===this.inputKeys.indexOf(t)&&this.inputKeys.push(t)}},{key:"cloneProp",value:function(t){for(var n=r()(this[t]),e={},a=0;a<n.length;a+=1){var i=n[a];e[i]=this[t][i]}return e}},{key:"destroy",value:function(){this.program&&this.gl.deleteProgram(this.program),this.vertexShader&&this.gl.deleteShader(this.vertexShader),this.fragmentShader&&this.gl.deleteShader(this.fragmentShader),this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer)}},{key:"clone",value:function(){var t=new n(this.name.split(":")[0]);return t.input=this.cloneProp("input"),t.uniform=this.cloneProp("uniform"),t.constant=this.cloneProp("constant"),t.dtype=this.dtype,t.kernel=this.kernel,t.chunks=this.chunks,t}}]),n}(v.a);n.a=E},function(t,n,e){"use strict";n.__esModule=!0;var a=o(e(316)),r=o(e(324)),i="function"==typeof r.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof r.default&&"symbol"===i(a.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,n,e){var a=e(78),r=e(320),i=e(135),o=e(133)("IE_PROTO"),s=function(){},u=function(){var t,n=e(136)("iframe"),a=i.length;for(n.style.display="none",e(179).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;a--;)delete u.prototype[i[a]];return u()};t.exports=Object.create||function(t,n){var e;return null!==t?(s.prototype=a(t),e=new s,s.prototype=null,e[o]=t):e=u(),void 0===n?e:r(e,n)}},function(t,n,e){e(321);for(var a=e(70),r=e(91),i=e(105),o=e(73)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=a[c],f=l&&l.prototype;f&&!f[o]&&r(f,o,c),i[c]=i.Array}},function(t,n,e){n.f=e(73)},function(t,n,e){var a=e(70),r=e(66),i=e(103),o=e(142),s=e(84).f;t.exports=function(t){var n=r.Symbol||(r.Symbol=i?{}:a.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:o.f(t)})}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=function(){function t(n){r()(this,t),this.id=t.GlobalCountIncrease(),this.name=n+":"+this.id}return o()(t,null,[{key:"GlobalCountIncrease",value:function(){return t.GlobalNodesCount+=1,t.GlobalNodesCount}}]),t}();n.a=s,s.GlobalNodesCount=0},function(t,n,e){"use strict";n.__esModule=!0;var a,r=(a=e(343))&&a.__esModule?a:{default:a};n.default=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return(0,r.default)(t)}},function(t,n,e){var a=e(186),r=e(73)("iterator"),i=e(105);t.exports=e(66).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[a(t)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=range,__webpack_exports__.c=tensorFrom,__webpack_exports__.b=tensorClone,__webpack_exports__.d=tensorFromFlat;var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__),__WEBPACK_IMPORTED_MODULE_1__tensor__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function range(t){for(var n=Array(t),e=0;e<t;e+=1)n[e]=e;return n}function tensorFrom(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=null;return __WEBPACK_IMPORTED_MODULE_2__utils__.f(t)&&(e=new __WEBPACK_IMPORTED_MODULE_1__tensor__.a(n||t.dtype,t.shape)),__WEBPACK_IMPORTED_MODULE_2__utils__.g(t)&&(e=new __WEBPACK_IMPORTED_MODULE_1__tensor__.a(n||t.dtype,t.shape)),__WEBPACK_IMPORTED_MODULE_2__utils__.e(t)&&(e=new __WEBPACK_IMPORTED_MODULE_1__tensor__.a(n||t.dtype,t.shape)),e}function tensorClone(t,n){if(n.data.set)n.data.set(t.data);else for(var e=0;e<n.size;e+=1)n.data[e]=t.data[e]}function tensorInvert(input){var output=arguments.length>1&&void 0!==arguments[1]?arguments[1]:input,invertShape=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Array(input.shape.length).fill(!0),shape=input.shape;if(input===output&&(input=input.clone()),input.shape.length!==output.shape.length)throw Error("invertTensor: Unable to invert, input and output has different shapes");var tmpArr=Array(shape.length),invert=function(){};eval("invert = function (coords) { "+invertShape.map(function(t,n){return t?"tmpArr["+n+"] = shape["+n+"] - 1 - coords["+n+"]":"tmpArr["+n+"] = coords["+n+"]"}).join(";")+"; return tmpArr; }");for(var i=0;i<input.size;i+=1){var _input,coords=__WEBPACK_IMPORTED_MODULE_1__tensor__.a.IndexToCoord(shape,i),inverted=invert(coords,tmpArr);output.set.apply(output,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(inverted).concat([(_input=input).get.apply(_input,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(coords))]))}return output}var tensorAssertEqual=function(t,n){if(!__WEBPACK_IMPORTED_MODULE_2__utils__.b(t,n))return!1;for(var e=0;e<t.size;e+=1)if(t.data[e]!==n.data[e])return!1;return!0},tensorAssertCloseEqual=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!__WEBPACK_IMPORTED_MODULE_2__utils__.b(t,n))return!1;for(var a=0;a<t.size;a+=1)if(Math.abs(t.data[a]-n.data[a])>e)return!1;return!0},tensorAssertMSEEqual=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!__WEBPACK_IMPORTED_MODULE_2__utils__.b(t,n))return!1;for(var a=0,r=0;r<t.size;r+=1)a+=Math.pow(t.data[r]-n.data[r],2);return(a=Math.sqrt(a)/t.size)<e};function flipTensor(input){var output=arguments.length>1&&void 0!==arguments[1]?arguments[1]:input,invertShape=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Array(input.shape.length).fill(!0),shape=input.shape;if(input===output&&(input=input.clone()),input.shape.length!==output.shape.length)throw Error("invertTensor: Unable to invert, input and output has different shapes");var tmpArr=Array(shape.length),invert=function(){};eval("invert = function (coords) { "+invertShape.map(function(t,n){return t?"tmpArr["+n+"] = shape["+n+"] - 1 - coords["+n+"]":"tmpArr["+n+"] = coords["+n+"]"}).join(";")+"; return tmpArr; }");for(var i=0;i<input.size;i+=1){var _input2,coords=__WEBPACK_IMPORTED_MODULE_1__tensor__.a.IndexToCoord(shape,i),inverted=invert(coords,tmpArr);output.set.apply(output,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(inverted).concat([(_input2=input).get.apply(_input2,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(coords))]))}return output}function invertTensor(){return __WEBPACK_IMPORTED_MODULE_2__utils__.c("invertTensor",'use "flipTensor" instead'),flipTensor.apply(void 0,arguments)}function tensorMap(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=0;a<t.size;a+=1)e.data[a]=n(t.data[a],a)}function tensorOnes(t,n){var e=new __WEBPACK_IMPORTED_MODULE_1__tensor__.a(t,n);return tensorMap(e,function(){return 1}),e}function tensorFromFlat(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,t.length,4],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32",a=arguments[3],r=Array(4*t.length),i=0;i<r.length;i+=1)r[i]=(i+1)%4==0&&"number"==typeof a?a:t[~~(i/4)];return new __WEBPACK_IMPORTED_MODULE_1__tensor__.a(e,n,__WEBPACK_IMPORTED_MODULE_1__tensor__.a.GetTypedArray(e,r))}},function(t,n,e){"use strict";var a=e(112);t.exports.f=function(t){return new function(t){var n,e;this.promise=new t(function(t,a){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=a}),this.resolve=a(n),this.reject=a(e)}(t)}},function(t,n,e){"use strict";var a=e(61),r=e(380),i=e.n(r),o=e(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nearest";o.a("nearest"===r||"bicubic"===r||"mean"===r||"max"===r,'ResizeOperation: Unsupported type of operation. Currently supported only "nearest" and "bicubic"'),"mean"===r&&(o.c('ResizeOperation: type "mean"','use "bicubic" instead'),r="bicubic"),"max"===r&&(o.c('ResizeOperation: type "max"','use "nearest" instead'),r="nearest"),o.a(n>0||e>0,"ResizeOperation: Size of image should be greater than 0");var s=0;return"nearest"===r?s=0:"bicubic"===r&&(s=1),new a.a("Resize").Input("tSrc",t.dtype).Output(t.dtype).Constant("TX",t.shape[1]/n).Constant("TY",t.shape[0]/e).Constant("S",s).SetShapeFn(function(){var t=[e,n,4];return o.a(o.j(t),"ResizeOperation: Invalid operation shape"),t}).LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t})}},function(t,n,e){"use strict";var a=e(125);t.exports.f=function(t){return new function(t){var n,e;this.promise=new t(function(t,a){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=a}),this.resolve=a(n),this.reject=a(e)}(t)}},,,,,,,,,,,,,,,,,,,function(t,n,e){t.exports={default:e(303),__esModule:!0}},,function(t,n,e){var a=e(90),r=e(95),i=e(309)(!1),o=e(133)("IE_PROTO");t.exports=function(t,n){var e,s=r(t),u=0,c=[];for(e in s)e!=o&&a(s,e)&&c.push(e);for(;n.length>u;)a(s,e=n[u++])&&(~i(c,e)||c.push(e));return c}},function(t,n,e){var a=e(102);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},function(t,n,e){var a=e(75),r=e(66),i=e(97);t.exports=function(t,n){var e=(r.Object||{})[t]||Object[t],o={};o[t]=n(e),a(a.S+a.F*i(function(){e(1)}),"Object",o)}},function(t,n,e){t.exports=!e(85)&&!e(97)(function(){return 7!=Object.defineProperty(e(136)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var a=e(90),r=e(94),i=e(133)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),a(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,n,e){"use strict";var a=e(103),r=e(75),i=e(178),o=e(91),s=e(105),u=e(319),c=e(116),l=e(176),f=e(73)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,n,e,d,v,g,m){u(e,n,d);var y,x,_,k=function(t){if(!h&&t in w)return w[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},b=n+" Iterator",S="values"==v,E=!1,w=t.prototype,T=w[f]||w["@@iterator"]||v&&w[v],P=T||k(v),A=v?S?k("entries"):P:void 0,M="Array"==n&&w.entries||T;if(M&&(_=l(M.call(new t)))!==Object.prototype&&_.next&&(c(_,b,!0),a||"function"==typeof _[f]||o(_,f,p)),S&&T&&"values"!==T.name&&(E=!0,P=function(){return T.call(this)}),a&&!m||!h&&!E&&w[f]||o(w,f,P),s[n]=P,s[b]=p,v)if(y={values:S?P:k("values"),keys:g?P:k("keys"),entries:A},m)for(x in y)x in w||i(w,x,y[x]);else r(r.P+r.F*(h||E),n,y);return y}},function(t,n,e){t.exports=e(91)},function(t,n,e){var a=e(70).document;t.exports=a&&a.documentElement},function(t,n,e){var a=e(172),r=e(135).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},function(t,n,e){var a=e(117),r=e(104),i=e(95),o=e(137),s=e(90),u=e(175),c=Object.getOwnPropertyDescriptor;n.f=e(85)?c:function(t,n){if(t=i(t),n=o(n,!0),u)try{return c(t,n)}catch(t){}if(s(t,n))return r(!a.f.call(t,n),t[n])}},function(t,n){},function(t,n,e){"use strict";n.b=o,n.a=function(t,n,e){try{var a,s=function(t,n){var e,a,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=o(t),u=(""+(s.length+1)).length,c=n.toString(),l=[],f=[];c.startsWith(i)&&(c=c.substr(i.length));for(var h=c.split("\n"),p=function(t){for(var n=0,e=0,a=0;a<t.length;a+=1)/ERROR/.exec(t[a])&&(n+=1),/WARNING/.exec(t[a])&&(e+=1);return{errCount:n,warnCount:e}}(h),d=0,v=0;v<h.length;v+=1){var g=h[v],m=/0:(\d+)/.exec(g);if(m){var y=+m[1]+d,x=" ".repeat(u)+"|"+(e=s[y-1],a=/\d+\|(\s+)/.exec(e)," ".repeat(a?a[1].length:2));l.push(g+"\n"+s[y-2]+"\n"+s[y-1]+"\n"+x+"^\n"+s[y]);var _=r?"%c":"";s.splice(y,0,""+_+x+"^--"+g+_),r&&(f.push("color: red;"),f.push("color: inherit;")),d+=1}}return{fullText:s.join("\n"),firstError:l[0],errorsStats:p,fullTextStyle:f}}(t,e);s.errorsStats,(a=console).log.apply(a,[s.fullText].concat(r()(s.fullTextStyle)))}catch(t){}};var a=e(146),r=e.n(a),i="Error: An error occurred compiling the shaders: ";function o(t){var n=t.split("\n"),e=(""+(n.length+1)).length;return n.map(function(t,n){return(""+(n+1)).padStart(e)+"|  "+t})}},function(t,n,e){var a=e(78);t.exports=function(t,n,e,r){try{return r?n(a(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&a(i.call(t)),n}}},function(t,n,e){var a=e(105),r=e(73)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||i[r]===t)}},function(t,n,e){var a=e(102),r=e(73)("toStringTag"),i="Arguments"==a(function(){return arguments}());t.exports=function(t){var n,e,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),r))?e:i?a(n):"Object"==(o=a(n))&&"function"==typeof n.callee?"Arguments":o}},function(t,n,e){var a=e(73)("iterator"),r=!1;try{var i=[7][a]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!r)return!1;var e=!1;try{var i=[7],o=i[a]();o.next=function(){return{done:e=!0}},i[a]=function(){return o},t(i)}catch(t){}return e}},function(t,n,e){t.exports={default:e(348),__esModule:!0}},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=e(89),u=e(62),c=function(){function t(n,e,a,i){if(r()(this,t),"float32"!==n&&"uint8"!==n)throw Error("GPUTexture: Invalid texture type, currently supported is: float32, uint8, but got "+n+" ");this.unit=a,this.dtype=n,this.gl=e,this.ctx=e.createTexture(),this.shape=i,e.bindTexture(e.TEXTURE_2D,this.ctx),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.allocate()}return o()(t,[{key:"allocate",value:function(){var t=this.gl,n=this.shape[1],e=t.UNSIGNED_BYTE;"float32"===this.dtype&&(s.a.SUPPORTS_FLOAT_TEXTURES?e=t.FLOAT:n*=4),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,this.shape[0],0,t.RGBA,e,null)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.gl;if(u.l(t)||u.d(t))n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t);else{var e=t.shape[1],a=n.UNSIGNED_BYTE,r=t.data;"float32"===t.dtype&&(s.a.SUPPORTS_FLOAT_TEXTURES?a=n.FLOAT:(e*=4,r=t.uint8View)),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e,this.shape[0],0,n.RGBA,a,r)}}},{key:"bind",value:function(t,n,e){var a=this.gl;if(n){var r=a.getUniformLocation(t,n);a.uniform1i(r,e)}a.activeTexture(a.TEXTURE0+e),a.bindTexture(a.TEXTURE_2D,this.ctx),this.unit=e}},{key:"unbind",value:function(){var t=this.gl;t.activeTexture(t.TEXTURE0+this.unit),t.bindTexture(t.TEXTURE_2D,null)}},{key:"delete",value:function(){var t=this.gl;t.deleteTexture(this.ctx),this.gl=null,this.program=null,this.ctx=null,t.bindTexture(t.TEXTURE_2D,null)}}]),t}();n.a=c},function(t,n,e){"use strict";n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new ImageData(t.shape[1],t.shape[0]),r=t.shape[0]*t.shape[1];if(n&&"uint8"===t.dtype)return a.data.set(t.data),a;if(!n){for(var i=0;i<r;i+=1){var o,s=~~(i/t.shape[0]),u=i-s*t.shape[1],c=t.data[i];o=e?4*(u*t.shape[0]+s):4*(s*t.shape[1]+u),a.data[o+0]=c,a.data[o+1]=c,a.data[o+2]=c,a.data[o+3]=255}return a}if("float32"===t.dtype)for(var l=0;l<t.size;l+=1)a.data[l]=255*t.data[l];else for(var f=0;f<t.size;f+=1)a.data[f]=t.data[f];return a}},function(t,n,e){t.exports={default:e(362),__esModule:!0}},function(t,n,e){var a=e(78),r=e(112),i=e(73)("species");t.exports=function(t,n){var e,o=a(t).constructor;return void 0===o||void 0==(e=a(o)[i])?n:r(e)}},function(t,n,e){var a,r,i,o=e(96),s=e(366),u=e(179),c=e(136),l=e(70),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var n=m[t];delete m[t],n()}},x=function(t){y.call(t.data)};h&&p||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),n)},a(g),g},p=function(t){delete m[t]},"process"==e(102)(f)?a=function(t){f.nextTick(o(y,t,1))}:v&&v.now?a=function(t){v.now(o(y,t,1))}:d?(i=(r=new d).port2,r.port1.onmessage=x,a=o(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(a=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):a="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var a=e(78),r=e(88),i=e(149);t.exports=function(t,n){if(a(t),r(n)&&n.constructor===t)return n;var e=i.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){"use strict";e.d(n,"b",function(){return s});var a=e(61),r=e(378),i=e.n(r),o=e(197);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new a.a("Convolution2d").Input("tSrc",t.dtype).Input("tKernel","float32").Output(t.dtype).LoadChunk("pickValue").Constant("KERNEL_WIDTH",n.shape[1]).Constant("KERNEL_HEIGHT",n.shape[0]).Uniform("bias","float",r).Uniform("factor","float",e).GLSLKernel(i.a).Compile({tSrc:t,tKernel:n})};var s=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.gaussianBlur=i,n.boxBlur=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=new a.a("float32",[t,t,4]),e=Math.pow(t,2),r=0;r<n.data.length;r+=1)n.data[r]=1/e;return n},n.sharpen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=-1*t,e=1+4*t;return Object(r.d)([0,n,0,n,e,n,0,n,0],[3,3,4],"float32")},n.invert=function(){return Object(r.d)([0,0,0,0,-1,0,0,0,0],[3,3,4],"float32")},n.edgeDetection=function(){return Object(r.d)([1,0,-1,0,0,0,-1,0,1],[3,3,4],"float32")},n.edgeDetection2=function(){return Object(r.d)([0,1,0,1,-4,1,0,1,0],[3,3,4],"float32")},n.edgeDetection3=function(){return Object(r.d)([-1,-1,-1,-1,8,-1,-1,-1,-1],[3,3,4],"float32")},n.unsharpMasking=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=i(t,n),r=~~((t-1)/2),o=1+1*e-a.get(r,r,0),s=1+1*e-a.get(r,r,1),u=1+1*e-a.get(r,r,2),c=0;c<a.size;c+=1)a.data[c]=-a.data[c];return a.set(r,r,0,o),a.set(r,r,1,s),a.set(r,r,2,u),a};var a=e(86),r=e(148);function i(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=new a.a("float32",[t,t]),r=(t-1)/2,i=new a.a("float32",[t,t,4]),o=0,s=0;s<t;s+=1)for(var u=0;u<t;u+=1){var c=Math.exp(-.5*(Math.pow((u-r)/n,2)+Math.pow((s-r)/n,2)))/(2*Math.PI*n*n);e.set(u,s,c),o+=e.get(u,s)}for(var l=0;l<t;l+=1)for(var f=0;f<t;f+=1)i.set(f,l,0,e.get(f,l)/o),i.set(f,l,1,e.get(f,l)/o),i.set(f,l,2,e.get(f,l)/o);return i}},function(t,n,e){"use strict";var a=e(61),r=e(119),i=e(394),o=e.n(i),s=e(395),u=e.n(s),c=e(396),l=e.n(c),f=e(397),h=e.n(f),p=e(62),d=function(t,n){return new a.a("ImageReduceStd").Input("tStd",t.dtype).Output(t.dtype).Constant("WIDTH",t.shape[1]).Constant("HEIGHT",t.shape[0]).Uniform("uWidth","float",t.shape[1]/n[1]).Uniform("uHeight","float",t.shape[0]/n[0]).Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").SetShapeFn(function(){return[~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1]),4]}).GLSLKernel(l.a).Compile({tStd:t})},v=function(t,n){return new a.a("ImageExtractMean").Input("tSrc",t.dtype).Output(t.dtype).Constant("WIDTH",t.shape[1]).Constant("HEIGHT",t.shape[0]).Uniform("uWidth","float",t.shape[1]/n[1]).Uniform("uHeight","float",t.shape[0]/n[0]).Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").SetShapeFn(function(){return[~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1]),4]}).GLSLKernel(o.a).Compile({tSrc:t})};n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments[2],i=[[t.shape[0],t.shape[1]]];Array.isArray(n)?(p.a(Object(r.b)(t.shape,n),"ImageMeanStd: Provided steps doesn't converge in 1 px in ImageExtractMeanStd operation"),i=n):"number"==typeof n&&n>0&&(i=Object(r.c)(t.shape,n));for(var o=v(t,i[0]),s=1;s<i.length;s+=1)o=v(o,i[s]);if(e)return o;for(var c,l,f=function(t,n,e){return new a.a("ImageExtractStd").Input("tSrc",t.dtype).Input("tMean",n.dtype).Output(t.dtype).Constant("WIDTH",t.shape[1]).Constant("HEIGHT",t.shape[0]).Uniform("uWidth","float",t.shape[1]/e[1]).Uniform("uHeight","float",t.shape[0]/e[0]).Constant("KX",e[1]).Constant("KY",e[0]).LoadChunk("pickValue").SetShapeFn(function(){return[~~(t.shape[0]/e[0]),~~(t.shape[1]/e[1]),4]}).GLSLKernel(u.a).Compile({tSrc:t,tMean:n})}(t,o,i[0]),g=1;g<i.length;g+=1)f=d(f,i[g]);return c=o,l=f,new a.a("ImageJoin").Input("tMean",c.dtype).Input("tStd",l.dtype).Output(c.dtype).SetShapeFn(function(){return[2,1,4]}).GLSLKernel(h.a).Compile({tMean:c,tStd:l})}},function(t,n,e){"use strict";var a=e(61),r=e(119),i=e(398),o=e.n(i),s=e(399),u=e.n(s),c=e(62),l=e(89),f=function(t,n,e){return new a.a("ImageReduceHistogram").Input("tSrc","float32").Output("float32").Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").Constant("COUNT",e).SetShapeFn(function(){return[~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1]),4]}).GLSLKernel(u.a).Compile({tSrc:t})};n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/255,u=[[t.shape[0],t.shape[1]]],h=~~((i-e+s)/s);Array.isArray(n)?(c.a(Object(r.b)(t.shape,n),"ImageExtractHistogram: Provided steps doesn't converge in 1 px in operation"),u=n):"number"==typeof n&&n>0&&(u=Object(r.c)(t.shape,n,!0,[l.a.MAX_TEXTURE_SIZE,l.a.MAX_TEXTURE_SIZE/256/(l.a.SUPPORTS_FLOAT_TEXTURES?1:4)]));for(var p=function(t,n,e,r,i,s){return new a.a("ImageExtractHistogram").Input("tSrc",t.dtype).Output("float32").Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").Constant("MIN",e).Constant("MAX",r).Constant("STEP",i).Constant("COUNT",s).SetShapeFn(function(){return[~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1])*s,4]}).GLSLKernel(o.a).Compile({tSrc:t})}(t,u[0],e,i,s,h),d=1;d<u.length;d+=1)p=f(p,u[d],h);return p}},function(t,n,e){"use strict";var a=e(61),r=e(119),i=e(400),o=e.n(i),s=e(401),u=e.n(s),c=e(62),l=function(t,n){return new a.a("ImageReduceMinMax").Input("tSrc",t.dtype).Output(t.dtype).Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").SetShapeFn(function(){return[~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1]),4]}).GLSLKernel(u.a).Compile({tSrc:t})};n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=[[t.shape[0],t.shape[1]]];Array.isArray(n)?(c.a(Object(r.b)(t.shape,n),"ImageMeanStd: Provided steps doesn't converge in 1 px in ImageExtractMeanStd operation"),e=n):"number"==typeof n&&n>0&&(e=Object(r.c)(t.shape,n));for(var i=function(t,n){return new a.a("ImageExtractMinMax").Input("tSrc",t.dtype).Output(t.dtype).Constant("KX",n[1]).Constant("KY",n[0]).LoadChunk("pickValue").SetShapeFn(function(){return[2*~~(t.shape[0]/n[0]),~~(t.shape[1]/n[1]),4]}).GLSLKernel(o.a).Compile({tSrc:t})}(t,e[0]),s=1;s<e.length;s+=1)i=l(i,e[s]);return i}},function(t,n,e){"use strict";var a=e(61),r=e(86),i=e(430),o=e.n(i),s=e(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,2],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.a(2===n.length,"Erosion: Kernel size should be shape of rank 2"),s.g(e)&&s.a(n[0]===e.shape[0]&&n[1]===e.shape[1],"Erosion: Structure element has wrong size"),!e){e=new r.a("float32",[n[0],n[1],4]);for(var i=0;i<n[0];i+=1)for(var u=0;u<n[1];u+=1)e.set(i,u,0,1),e.set(i,u,1,1),e.set(i,u,2,1),e.set(i,u,3,1)}return new a.a("Erosion").Input("tSrc",t.dtype).Input("tKernel","float32").Output(t.dtype).Constant("KW",n[0]).Constant("KH",n[1]).LoadChunk("pickValue").GLSLKernel(o.a).Compile({tSrc:t,tKernel:e})}},function(t,n,e){"use strict";var a=e(61),r=e(431),i=e.n(r),o=e(62),s=e(86);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[2,2],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(o.a(2===n.length,"Dilation: Kernel size should be shape of rank 2"),o.g(e)&&o.a(n[0]===e.shape[0]&&n[1]===e.shape[1],"Dilation: Structure element has wrong size"),!e){e=new s.a("float32",[n[0],n[1],4]);for(var r=0;r<n[0];r+=1)for(var u=0;u<n[1];u+=1)e.set(r,u,0,1),e.set(r,u,1,1),e.set(r,u,2,1),e.set(r,u,3,1)}return new a.a("Dilation").Input("tSrc",t.dtype).Input("tKernel","float32").Output(t.dtype).Constant("KW",n[0]).Constant("KH",n[1]).LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t,tKernel:e})}},function(t,n,e){"use strict";e.d(n,"g",function(){return S}),e.d(n,"a",function(){return E}),e.d(n,"c",function(){return w}),e.d(n,"e",function(){return T}),e.d(n,"h",function(){return P}),e.d(n,"b",function(){return A}),e.d(n,"d",function(){return M}),e.d(n,"f",function(){return C});var a=e(61),r=e(62),i=e(433),o=e.n(i),s=e(434),u=e.n(s),c=e(435),l=e.n(c),f=e(436),h=e.n(f),p=e(437),d=e.n(p),v=e(438),g=e.n(v),m=e(439),y=e.n(m),x=e(440),_=e.n(x),k=function(t,n,e){r.a(r.g(n)||r.f(n),t+": A input is not a Tensor or Operation instance"),r.a(r.g(e)||r.f(e),t+": B input is not a Tensor or Operation instance"),r.a(n.dtype===e.dtype,t+": inputs should have the same dtype, got "+n.dtype+" and "+e.dtype),r.a(n.shape[0]===e.shape[0]&&n.shape[1]===e.shape[1]&&n.shape[3]===e.shape[3],t+": inputs should have the same shapes, got "+n.shape+" and "+e.shape)},b=function(t,n,e){r.a("number"==typeof e,t+": scalar value is not a number"),r.a(r.g(n)||r.f(n),t+": A input is not a Tensor or Operation instance")},S=function(t,n){return k("Sub",t,n),new a.a("Sub").Input("tA",t).Input("tB",n).Output(t.dtype).LoadChunk("pickValue").GLSLKernel(o.a).Compile({tA:t,tB:n})},E=function(t,n){return k("Add",t,n),new a.a("Add").Input("tA",t).Input("tB",n).Output(t.dtype).LoadChunk("pickValue").GLSLKernel(u.a).Compile({tA:t,tB:n})},w=function(t,n){return k("Div",t,n),new a.a("Div").Input("tA",t).Input("tB",n).Output(t.dtype).LoadChunk("pickValue").GLSLKernel(h.a).Compile({tA:t,tB:n})},T=function(t,n){return k("Mult",t,n),new a.a("Mult").Input("tA",t).Input("tB",n).Output(t.dtype).LoadChunk("pickValue").GLSLKernel(l.a).Compile({tA:t,tB:n})},P=function(t,n){return b("SubScalar",t,n),new a.a("SubScalar").Input("tA",t).Output(t.dtype).Uniform("uScalar","float",n).LoadChunk("pickValue").GLSLKernel(d.a).Compile({tA:t})},A=function(t,n){return b("AddScalar",t,n),new a.a("AddScalar").Input("tA",t).Output(t.dtype).Uniform("uScalar","float",n).LoadChunk("pickValue").GLSLKernel(g.a).Compile({tA:t})},M=function(t,n){return b("DivScalar",t,n),new a.a("DivScalar").Input("tA",t).Output(t.dtype).Uniform("uScalar","float",n).LoadChunk("pickValue").GLSLKernel(_.a).Compile({tA:t})},C=function(t,n){return b("MultScalar",t,n),new a.a("MultScalar").Input("tA",t).Output(t.dtype).Uniform("uScalar","float",n).LoadChunk("pickValue").GLSLKernel(y.a).Compile({tA:t})}},function(t,n,e){"use strict";e.d(n,"a",function(){return h}),e.d(n,"b",function(){return p});var a=e(61),r=e(442),i=e.n(r),o=e(443),s=e.n(o),u=e(444),c=e.n(u),l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new a.a("SummedAreaTable").Input("tSrc",t.dtype).Output("float32").LoadChunk("pickValue").Constant("PASSI",e).Constant("LAST",!1).Constant("SAMPLES_PER_PASS",r).GLSLKernel("x"===n?i.a:c.a).Compile({tSrc:t})},f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.ceil(Math.pow(t.shape[1],1/n)),i=Math.ceil(Math.pow(t.shape[0],1/n)),o=t,u=Math.log(t.shape[1])/Math.log(Math.max(r+1,2)),c=Math.log(t.shape[0])/Math.log(Math.max(i+1,2));e&&(o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new a.a("SquaredSummedAreaTable").Input("tSrc",t.dtype).Output("float32").LoadChunk("pickValue").Constant("PASSI",n).Constant("LAST",!1).Constant("SAMPLES_PER_PASS",e).GLSLKernel(s.a).Compile({tSrc:t})}(o,0,Math.min(r,t.shape[1]-1)));for(var f=e?1:0;f<u;f+=1)o=l(o,"x",f,Math.min(r,t.shape[1]-1));for(var h=0;h<c;h+=1)o=l(o,"y",h,Math.min(i,t.shape[0]-1));return o},h=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return f(t,n,!1)},p=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return f(t,n,!0)}},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=1e-7;function u(t,n,e){return t-s<=n&&n<=e+s}var c=function(){function t(n,e,a,i,o,s){if(r()(this,t),n instanceof ArrayBuffer)this.data=new Float32Array(n,e,8);else if(Array.isArray(n)){if(n.length<8)for(var u=n.length;u<=8;u+=1)n.push(0);this.data=new Float32Array(n)}else this.data=void 0!==n&&void 0!==e?new Float32Array([n,e,a,i,o,s,0,0]):new Float32Array(8)}return o()(t,null,[{key:"Intersection",value:function(t,n){var e=t.x1,a=t.y1,r=t.x2,i=t.y2,o=n.x1,s=n.y1,c=n.x2,l=n.y2,f=((e*i-a*r)*(o-c)-(e-r)*(o*l-s*c))/((e-r)*(s-l)-(a-i)*(o-c)),h=((e*i-a*r)*(s-l)-(a-i)*(o*l-s*c))/((e-r)*(s-l)-(a-i)*(o-c));if(isNaN(f)||isNaN(h))return!1;if(e>=r){if(!u(r,f,e))return!1}else if(!u(e,f,r))return!1;if(a>=i){if(!u(i,h,a))return!1}else if(!u(a,h,i))return!1;if(o>=c){if(!u(c,f,o))return!1}else if(!u(o,f,c))return!1;if(s>=l){if(!u(l,h,s))return!1}else if(!u(s,h,l))return!1;return[f,h]}}]),o()(t,[{key:"set",value:function(t,n,e,a,r,i){this.data[0]=t,this.data[1]=n,this.data[2]=e,this.data[3]=a,this.data[4]=r,this.data[5]=i,this.data[6]=0,this.data[7]=0}},{key:"fromParallelCoords",value:function(t,n,e,a,r,i){var o,s=e,u=void 0;o=t>i?(i/(t-=i)-1)*e+(u=r-i*n/t):(1-i/(t=i-t))*e+(u=i*n/t),this.set(0,u,s,o,t,n)}},{key:"clear",value:function(){this.data[0]=0,this.data[1]=0,this.data[2]=0,this.data[3]=0,this.data[4]=0,this.data[5]=0,this.data[6]=0,this.data[7]=0}},{key:"fromArray",value:function(t){this.data.set(t)}},{key:"toArray",value:function(){return Array.prototype.slice.call(this.data)}},{key:"length",get:function(){if(this.data[6])return this.data[6];var t=this.data[2]-this.data[0],n=this.data[3]-this.data[1],e=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));return this.data[6]=e,e}},{key:"angle",get:function(){if(this.data[7])return this.data[7];var t=this.data[2]-this.data[0],n=this.data[3]-this.data[1],e=Math.atan(n/t)/Math.PI*180;return e<0&&(e=180+e),this.data[7]=e,e}},{key:"x1",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y1",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"x2",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"y2",get:function(){return this.data[3]},set:function(t){this.data[3]=t}},{key:"px",get:function(){return this.data[4]},set:function(t){this.data[4]=t}},{key:"py",get:function(){return this.data[5]},set:function(t){this.data[5]=t}}]),t}();n.a=c,c.BYTES_PER_ELEMENT=36},function(t,n,e){"use strict";n.b=
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function(t,n){var e=[0,0],a=null,r=null,i=null,o=null;e[0]+=t[0][0],e[0]+=t[1][0],e[0]+=t[2][0],e[0]+=t[3][0],e[1]+=t[0][1],e[1]+=t[1][1],e[1]+=t[2][1],e[1]+=t[3][1],e[0]/=4,e[1]/=4;for(var s=0;s<t.length;s+=1)t[s][0]>=e[0]&&t[s][1]>=e[1]&&(i=t[s]),t[s][0]<=e[0]&&t[s][1]<=e[1]&&(a=t[s]),t[s][0]>=e[0]&&t[s][1]<=e[1]&&(r=t[s]),t[s][0]<=e[0]&&t[s][1]>=e[1]&&(o=t[s]);return[a,r,i,o]},n.a=function(t,n){var e=t[2]-t[0],a=t[3]-t[1],r=n[2]-n[0],i=n[3]-n[1];return Math.acos((e*r+a*i)/Math.sqrt((e*e+a*a)*(r*r+i*i)))},n.c=function(t,n,e){var a,r=e,i=0,o=0,s=0;return i=r.get(0,1)*n+r.get(0,2),o=r.get(1,1)*n+r.get(1,2),s=r.get(2,1)*n+r.get(2,2),i+=r.get(0,0)*t,o+=r.get(1,0)*t,[i*(a=1/(s+=r.get(2,0)*t)),o*a]}},function(t,n,e){"use strict";var a=e(76),r=e.n(a),i=e(77),o=e.n(i),s=function(){function t(n,e){r()(this,t),this.delay=n,this.callback=e}return o()(t,[{key:"cancel",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"activate",value:function(){for(var t=this,n=arguments.length,e=Array(n),a=0;a<n;a++)e[a]=arguments[a];this.cancel(),this.timeout=setTimeout(function(){t.callback&&t.callback.apply(t,e)},this.delay)}}]),t}();n.a=s},function(t,n,e){var a=e(123),r=e(80)("toStringTag"),i="Arguments"==a(function(){return arguments}());t.exports=function(t){var n,e,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),r))?e:i?a(n):"Object"==(o=a(n))&&"function"==typeof n.callee?"Arguments":o}},function(t,n,e){var a=e(93),r=e(125),i=e(80)("species");t.exports=function(t,n){var e,o=a(t).constructor;return void 0===o||void 0==(e=a(o)[i])?n:r(e)}},function(t,n,e){var a,r,i,o=e(121),s=e(472),u=e(258),c=e(215),l=e(79),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var n=m[t];delete m[t],n()}},x=function(t){y.call(t.data)};h&&p||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),n)},a(g),g},p=function(t){delete m[t]},"process"==e(123)(f)?a=function(t){f.nextTick(o(y,t,1))}:v&&v.now?a=function(t){v.now(o(y,t,1))}:d?(i=(r=new d).port2,r.port1.onmessage=x,a=o(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(a=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):a="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var a=e(93),r=e(107),i=e(151);t.exports=function(t,n){if(a(t),r(n)&&n.constructor===t)return n;var e=i.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var a=e(481);"string"==typeof a&&(a=[[t.i,a,""]]),e(65)(a,{hmr:!0,transform:void 0}),a.locals&&(t.exports=a.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";var a=e(109),r=e.n(a),i=e(129),o=e.n(i),s=e(170),u=e.n(s),c=e(68),l=e.n(c),f=e(81),h=e.n(f),p=e(156),d=e.n(p),v=e(76),g=e.n(v),m=e(82),y=e.n(m),x=e(77),_=e.n(x),k=e(83),b=e.n(k),S=e(16),E=e.n(S),w=e(17),T=e.n(w),P=e(304),A=e.n(P),M=e(63),C=e.n(M),I=e(87),O=e(67),V=e(305),R=e(98),L=e(69),j=e(450),U=e(455),K=e(227),D=e(461),F=e(207),z=e(462),N=e.n(z),B=e(463),W=e(464),G=e(480),H=e(213),X=e.n(H),Y=function(t){function n(t,e){g()(this,n);var a=y()(this,(n.__proto__||h()(n)).call(this,t));a.onResizeEnd=function(){var t=a.context.device;"mobile"===t.type&&(document.getElementById("root").style.overflow="hidden",document.getElementById("root").style.position="relative",a.stop(),a.setState(a.getSize(),function(){a.imgInput=new L.g("uint8",[a.state.height,a.state.width,4]),a.init(a.props),a.start()})),"mobile"!==t.type&&(document.getElementById("root").style.overflow="visible",document.getElementById("root").style.position="static",a.stop(),a.setState(l()({},a.getSize(),{showParams:!0}),function(){a.imgInput=new L.g("uint8",[a.state.height,a.state.width,4]),a.init(a.props),a.start()}))},a.onResize=function(){a.lazyUpdate.activate()},a.canvasRef=function(t){a.canvas=t,t&&(a.canvas.width=a.state.width,a.canvas.height=a.state.height)},a.state=l()({loading:!0,playing:!0,error:"",showParams:!0,exampleInitialized:!1},a.getSize(e)),a.lazyUpdate=new F.a(500,a.onResizeEnd);var r=n.generateParams(t.example),i=r.params,o=r.components;a.params=i,a.components=o,a.imgInput=new L.g("uint8",[a.state.height,a.state.width,4]),a.init(t),a.frameNumber=0,a.loading=!1;var s=A()(function(t){a.refFps.innerHTML=t.fps.toFixed(0)},3),u="function"==typeof t.example.tick?t.example.tick:a.tick;return a.tick=function(){s(),a.state.exampleInitialized||a.setState({exampleInitialized:!0}),a.stream.getImageBuffer(a.imgInput),a.loading&&!a.checkRerender(a.imgInput.data)?(a.setState({loading:!1}),a.loading=!1):a.loading||(u.call(a,a.frameNumber,{canvas:a.canvas,params:a.params,operation:a.op,session:a.sess,input:a.imgInput,output:a.imgOutput,context:a.opContext}),a.frameNumber+=1),a.timeout=window.requestAnimationFrame(a.tick)},a.mounted=!0,a}return b()(n,t),_()(n,null,[{key:"generateParams",value:function(t){var n={},e=[];if("object"===d()(t.params))for(var a in t.params){var r={name:a,items:[]};if(n[a]={},"object"===d()(t.params[a]))for(var i in t.params[a]){var o=t.params[a][i];n[a][i]=void 0!==o.default?o.default:o.min||(o.values?o.values[0].value:0),r.items.push(o)}e.push(r)}return{params:n,components:e}}}]),_()(n,[{key:"componentWillMount",value:function(){"mobile"===this.context.device.type&&(this.setState({showParams:!1}),document.getElementById("root").style.overflow="hidden",document.getElementById("root").style.position="relative")}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.state.error||this.start()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onResize),this.stop(),document.getElementById("root").style.overflow="visible",document.getElementById("root").style.position="static"}},{key:"onChangeParamsShow",value:function(){var t=this.state.showParams;this.setState({showParams:!t})}},{key:"onChangeParams",value:function(t,n,e,a){if(this.params=JSON.parse(u()(t)),"constant"===n)this.stop(),this.init(this.props),this.start();else for(var r in this.sess.operation)for(var i in this.sess.operation[r].uniform)i===e&&this.sess.operation[r].uniform[e].set(a)}},{key:"getSize",value:function(){if("mobile"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.context).device.type){var t=document.getElementById("root"),n=Object(B.a)(t.offsetWidth/(t.offsetHeight-60),Math.min(t.offsetWidth,600),Math.min(t.offsetHeight,600));return{width:~~n.width,height:~~n.height}}return{width:500,height:384}}},{key:"start",value:function(){var t=this;this.stream.start().catch(function(){t.stop(!0),t.setState({error:"PermisionDenied"})}),this.timeout=window.requestAnimationFrame(this.tick),this.setState({playing:!0}),!this.loading&&this.checkRerender(this.stream.getImageBuffer("uint8"))&&(this.setState({loading:!0}),this.loading=!0)}},{key:"stop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stream.stop(),t&&this.sess.destroy(),window.cancelAnimationFrame(this.timeout),this.setState({playing:!1})}},{key:"checkRerender",value:function(t){for(var n=!0,e=0;e<t.length;e+=16)0!==t[e]&&(n=!1);return n}},{key:"init",value:function(t){var n=this.state,e=n.width,a=n.height;Object(G.a)(t.example,t.exampleName);try{if(this.sess=new L.f,this.stream=new L.a(e,a),t.example.init&&(this.opContext=t.example.init(this.op,this.sess,this.params)),this.op=t.example.op(this.imgInput,this.params,this.opContext),!(this.op instanceof L.e))throw Error("Error in "+t.exampleName+" example: function <op> must return Operation",null,null);this.imgOutput=L.R(this.op),this.sess.init(this.op)}catch(t){this.mounted?this.setState({error:"NotSupported"}):this.state.error="NotSupported",Object(W.a)(t)}}},{key:"tick",value:function(t){this.sess.runOp(this.op,t,this.imgOutput),L.n(this.canvas,this.imgOutput)}},{key:"renderCloseBlock",value:function(){var t=this.state.showParams;return E.a.createElement("div",{onClick:this.onChangeParamsShow.bind(this),className:X.a.close_block},t&&E.a.createElement(K.a,{className:C()(X.a.icon,X.a.cross,"fill_light_grey")}),!t&&E.a.createElement(D.a,{className:C()(X.a.icon,X.a.cross,"fill_light_grey","stroke_light_grey")}),E.a.createElement(O.j,{className:X.a.sett_text,type:"b1",color:"light_grey"},t?"Close":"Params"))}},{key:"renderErrorButton",value:function(){var t=this.state.error,n=this.context.intl;return"NotSupported"===t?E.a.createElement(I.a,{to:R.a+"/examples",href:R.a+"/examples"},E.a.createElement(O.a,{size:"large",color:"primary",className:X.a.button},n.getText("Example.Errors.Button."+t))):E.a.createElement(O.a,{href:window.location.href,size:"large",color:"primary",className:X.a.button},n.getText("Example.Errors.Button."+t))}},{key:"render",value:function(){var t=this,n=this.props,e=n.example,a=n.exampleName,i=this.context,s=i.device,u=i.intl,c=this.state,l=c.playing,f=c.exampleInitialized,h=c.loading,p=c.showParams,d=c.error,v=o()(this.params).length>0;return d?E.a.createElement("div",{className:X.a.example_wrapper},E.a.createElement("div",{className:X.a.error_container},E.a.createElement(V.a,{className:X.a.error_icon}),E.a.createElement(O.j,{type:"h3",mobileType:"h4",color:"black",align:"center",className:X.a.error_descr},u.getText("Example.Errors."+d)),this.renderErrorButton())):E.a.createElement("div",{className:X.a.example_wrapper},E.a.createElement("div",{className:X.a.container},E.a.createElement(O.j,{type:"h3",color:"black",mobileType:"h4",className:C()(X.a.title,r()({},X.a.none,"mobile"===s.type&&p))},E.a.createElement("span",{className:X.a.title_text},function(t){for(var n=0;n<N.a.length;n+=1)for(var e=0;e<N.a[n].examples.length;e+=1)if(N.a[n].examples[e].path===t)return N.a[n].examples[e].name;return"Undefined"}(a)),E.a.createElement("span",{className:C()(X.a.fps,"text_grey"),style:{opacity:!h&&l?1:0}},"FPS: ",E.a.createElement("span",{ref:function(n){t.refFps=n}},"Inf."))),v&&"mobile"===s.type&&this.renderCloseBlock(),E.a.createElement("div",{className:X.a.part,style:{width:v&&"mobile"!==s.type||!v&&"mobile"!==s.type?"58.3333%":"100%"}},E.a.createElement(j.a,{exampleInitialized:f,playing:l,loading:h,onPlay:this.start.bind(this),onStop:this.stop.bind(this,!1),canvas:this.canvasRef,width:this.state.width,height:this.state.height})),v&&p&&E.a.createElement("div",{className:X.a.part,style:{width:v&&"mobile"!==s.type?"calc(41.666% - 20px)":null}},"mobile"===s.type&&p&&E.a.createElement("div",{className:C()("fill_black",X.a.mask)}),E.a.createElement(U.a,{onChangeParams:this.onChangeParams.bind(this),stateData:this.params,data:e.params}))))}}]),n}(S.Component);Y.propTypes={example:T.a.shape({op:T.a.func,params:T.a.object,tick:T.a.func,init:T.a.func}),exampleName:T.a.string},Y.contextTypes={device:T.a.object,intl:T.a.object},Y.defaultProps={example:{},exampleName:""},n.a=Y},function(t,n,e){var a=e(74),r=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,n,e){var a;a=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("function"!=typeof n)throw Error("Callback is not a function");if("number"!=typeof e||isNaN(e)||e<0||e===1/0)throw Error("refreshRate should be a positive number! e.g. 2 (fps)");var a=-1,r=0,i=void 0,o=0,s="object"===("undefined"==typeof performance?"undefined":t(performance))&&"now"in performance?performance.now.bind(performance):Date.now.bind(Date);return function(){if(a>=r){var t=s();void 0===i&&(i=t);var u=t-i;if(u>0){var c=a>0?1e3/(u/a):0;e>0?(r=.5*r+c/e*.5)<0&&(r=0):r=0;var l={fps:c,jitter:Math.abs(o-c),elapsed:u,frames:a,trigger:r};i=t,o=c,a=0,n(l)}else r*=2}a++}}},t.exports=a()},function(t,n,e){"use strict";n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 83 109"},t),o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"-10.85%",y1:"84.956%",x2:"102.433%",y2:"9.433%",id:u},o.a.createElement("stop",{stopColor:"#8F70FA",offset:"0%"}),o.a.createElement("stop",{stopColor:"#00D093",offset:"100%"})),o.a.createElement("linearGradient",{x1:".003%",y1:"50%",x2:"100.015%",y2:"50%",id:c},o.a.createElement("stop",{stopColor:"#8F70FA",offset:"1%"}),o.a.createElement("stop",{stopColor:"#B26DD7",offset:"28%"}),o.a.createElement("stop",{stopColor:"#E9699E",offset:"77%"}),o.a.createElement("stop",{stopColor:"#FF6788",offset:"100%"}))),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M48.698 101.326a3.988 3.988 0 0 1 1.146-2.842l5.26-5.27-5.272-5.271a4.01 4.01 0 0 1 0-5.73l6.486-6.485a4.102 4.102 0 0 1 5.729 0L67.317 81l1.433-1.386V13.75C68.75 6.156 62.594 0 55 0H13.75C6.156 0 0 6.156 0 13.75v75.625c0 7.594 6.156 13.75 13.75 13.75h35.395a3.976 3.976 0 0 1-.447-1.799zm-2.865-66.848a5.73 5.73 0 1 1 0 11.458 5.73 5.73 0 0 1 0-11.458zm-28.645 5.73a5.73 5.73 0 1 1 11.458 0 5.73 5.73 0 0 1-11.459 0zm28.645 30.524a2.853 2.853 0 0 1-2.028-.836 13.326 13.326 0 0 0-18.86 0 2.868 2.868 0 0 1-4.056-4.056c7.452-7.44 19.52-7.44 26.972 0a2.865 2.865 0 0 1-2.028 4.892z",fill:"url(#"+u+")",fillRule:"nonzero"}),o.a.createElement("path",{d:"M82.683 84.31l-6.485-6.485a1.146 1.146 0 0 0-1.616 0l-6.485 6.485a1.146 1.146 0 0 1-1.616 0l-6.485-6.485a1.146 1.146 0 0 0-1.616 0l-6.485 6.485a1.146 1.146 0 0 0 0 1.616l6.485 6.485a1.146 1.146 0 0 1 0 1.616l-6.485 6.486a1.146 1.146 0 0 0 0 1.615l6.485 6.486a1.146 1.146 0 0 0 1.616 0l6.462-6.474a1.146 1.146 0 0 1 1.616 0l6.485 6.485a1.146 1.146 0 0 0 1.616 0l6.485-6.485a1.146 1.146 0 0 0 0-1.616l-6.485-6.485a1.146 1.146 0 0 1 0-1.616l6.508-6.486a1.146 1.146 0 0 0 0-1.627z",fill:"url(#"+c+")"})))};var a=e(68),r=e.n(a),i=e(16),o=e.n(i),s=e(171),u=Object(s.a)(),c=Object(s.a)()},function(t,n,e){"use strict";var a=e(100),r=e.n(a),i=e(71),o=e.n(i),s=e(72),u=e.n(s),c=e(138),l=e(189),f=e(89),h=e(62),p=function(){function t(){o()(this,t),this.canvas=document.createElement("canvas"),this.canvas.width=1,this.canvas.height=1,this.initWebGL(this.canvas),this.operation={},this.texture={},this.textureCount=0}return u()(t,[{key:"initWebGL",value:function(t,n){this.canvas=t;var e=this.canvas.getContext("webgl",n);h.a(!!e,"Session: WebGL not supported.");var a=e.getExtension("OES_texture_float");h.a(!!a,"Session: Unable to find extension OES_texture_float"),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.gl=e}},{key:"init",value:function(t){h.a(!!t,"Session: Unable to initialize undefined operation"),h.a(h.f(t)||h.g(t),"Session: Unable to initialize operation with invalid input type"),h.f(t)&&t.traverse(function(t,n){n.operation[t.name]=t},this),(h.g(t)||h.e(t))&&(this.operation[t.name]=t),this.update()}},{key:"update",value:function(){for(var t=this.gl,n=r()(this.operation),e=0;e<n.length;e+=1){var a=this.operation[n[e]];a instanceof c.a&&a.init(this.gl),this.texture[n[e]]||(this.texture[n[e]]=new l.a(a.dtype,this.gl,this.textureCount,a.shape),a instanceof c.a&&(t.bindFramebuffer(t.FRAMEBUFFER,a.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture[n[e]].ctx,0),t.bindFramebuffer(t.FRAMEBUFFER,null)),this.textureCount+=1)}}},{key:"runOp",value:function(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.sequence,r=!1,i=0;i<a.length;i+=1){var o=a[i],s=this.operation[o],u=i===a.length-1;h.d(e)&&u&&(this.canvas.width===s.shape[1]&&this.canvas.height===s.shape[0]||(this.canvas.width=s.shape[1],this.canvas.height=s.shape[0]),s.framebuffer=null),r=!!s.run(this,n,r),e&&u&&h.g(e)&&this.readToTensor(e),e&&u&&h.d(e)&&this.readToCanvas(e,s.shape)}}},{key:"destroy",value:function(){var t=this.gl.getExtension("WEBGL_lose_context"),n=r()(this.texture),e=r()(this.operation);t&&t.loseContext();for(var a=0;a<n.length;a+=1)this.texture[n[a]].delete();for(var i=0;i<e.length;i+=1){var o=this.operation[e[i]];o instanceof c.a&&o.destroy()}this.canvas=null,this.operation={},this.texture={},this.gl=null,this.textureCount=0}},{key:"readToTensor",value:function(t){var n=this.gl,e=t.shape[0],a=t.shape[1],r=n.UNSIGNED_BYTE,i=t.data;"float32"===t.dtype&&(f.a.SUPPORTS_FLOAT_TEXTURES?r=n.FLOAT:(a*=4,i=t.uint8View)),n.readPixels(0,0,a,e,n.RGBA,r,i)}},{key:"readToCanvas",value:function(t,n){var e=t.getContext("2d");t.width=n[1],t.height=n[0],e.drawImage(this.canvas,0,0,n[1],n[0],0,0,n[1],n[0])}}]),t}();n.a=p},function(t,n,e){e(308),t.exports=e(66).Object.keys},function(t,n,e){var a=e(94),r=e(101);e(174)("keys",function(){return function(t){return r(a(t))}})},function(t,n,e){var a=e(95),r=e(131),i=e(310);t.exports=function(t){return function(n,e,o){var s,u=a(n),c=r(u.length),l=i(o,c);if(t&&e!=e){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===e)return t||l||0;return!t&&-1}}},function(t,n,e){var a=e(132),r=Math.max,i=Math.min;t.exports=function(t,n){return(t=a(t))<0?r(t+n,0):i(t,n)}},function(t,n,e){t.exports={default:e(312),__esModule:!0}},function(t,n,e){e(313);var a=e(66).Object;t.exports=function(t,n,e){return a.defineProperty(t,n,e)}},function(t,n,e){var a=e(75);a(a.S+a.F*!e(85),"Object",{defineProperty:e(84).f})},function(t,n,e){e(315),t.exports=e(66).Object.getPrototypeOf},function(t,n,e){var a=e(94),r=e(176);e(174)("getPrototypeOf",function(){return function(t){return r(a(t))}})},function(t,n,e){t.exports={default:e(317),__esModule:!0}},function(t,n,e){e(115),e(141),t.exports=e(142).f("iterator")},function(t,n,e){var a=e(132),r=e(130);t.exports=function(t){return function(n,e){var i,o,s=r(n)+"",u=a(e),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):i:t?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}}},function(t,n,e){"use strict";var a=e(140),r=e(104),i=e(116),o={};e(91)(o,e(73)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=a(o,{next:r(1,e)}),i(t,n+" Iterator")}},function(t,n,e){var a=e(84),r=e(78),i=e(101);t.exports=e(85)?Object.defineProperties:function(t,n){r(t);for(var e,o=i(n),s=o.length,u=0;s>u;)a.f(t,e=o[u++],n[e]);return t}},function(t,n,e){"use strict";var a=e(322),r=e(323),i=e(105),o=e(95);t.exports=e(177)(Array,"Array",function(t,n){this._t=o(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,r(1)):r(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){t.exports={default:e(325),__esModule:!0}},function(t,n,e){e(326),e(182),e(331),e(332),t.exports=e(66).Symbol},function(t,n,e){"use strict";var a=e(70),r=e(90),i=e(85),o=e(75),s=e(178),u=e(327).KEY,c=e(97),l=e(134),f=e(116),h=e(111),p=e(73),d=e(142),v=e(143),g=e(328),m=e(329),y=e(78),x=e(88),_=e(94),k=e(95),b=e(137),S=e(104),E=e(140),w=e(330),T=e(181),P=e(144),A=e(84),M=e(101),C=T.f,I=A.f,O=w.f,V=a.Symbol,R=a.JSON,L=R&&R.stringify,j=p("_hidden"),U=p("toPrimitive"),K={}.propertyIsEnumerable,D=l("symbol-registry"),F=l("symbols"),z=l("op-symbols"),N=Object.prototype,B="function"==typeof V&&!!P.f,W=a.QObject,G=!W||!W.prototype||!W.prototype.findChild,H=i&&c(function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,n,e){var a=C(N,n);a&&delete N[n],I(t,n,e),a&&t!==N&&I(N,n,a)}:I,X=function(t){var n=F[t]=E(V.prototype);return n._k=t,n},Y=B&&"symbol"==typeof V.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof V},Z=function(t,n,e){return t===N&&Z(z,n,e),y(t),n=b(n,!0),y(e),r(F,n)?(e.enumerable?(r(t,j)&&t[j][n]&&(t[j][n]=!1),e=E(e,{enumerable:S(0,!1)})):(r(t,j)||I(t,j,S(1,{})),t[j][n]=!0),H(t,n,e)):I(t,n,e)},q=function(t,n){y(t);for(var e,a=g(n=k(n)),r=0,i=a.length;i>r;)Z(t,e=a[r++],n[e]);return t},J=function(t){var n=K.call(this,t=b(t,!0));return!(this===N&&r(F,t)&&!r(z,t))&&(!(n||!r(this,t)||!r(F,t)||r(this,j)&&this[j][t])||n)},$=function(t,n){if(t=k(t),n=b(n,!0),t!==N||!r(F,n)||r(z,n)){var e=C(t,n);return!e||!r(F,n)||r(t,j)&&t[j][n]||(e.enumerable=!0),e}},Q=function(t){for(var n,e=O(k(t)),a=[],i=0;e.length>i;)r(F,n=e[i++])||n==j||n==u||a.push(n);return a},tt=function(t){for(var n,e=t===N,a=O(e?z:k(t)),i=[],o=0;a.length>o;)!r(F,n=a[o++])||e&&!r(N,n)||i.push(F[n]);return i};B||(s((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(e){this===N&&n.call(z,e),r(this,j)&&r(this[j],t)&&(this[j][t]=!1),H(this,t,S(1,e))};return i&&G&&H(N,t,{configurable:!0,set:n}),X(t)}).prototype,"toString",function(){return this._k}),T.f=$,A.f=Z,e(180).f=w.f=Q,e(117).f=J,P.f=tt,i&&!e(103)&&s(N,"propertyIsEnumerable",J,!0),d.f=function(t){return X(p(t))}),o(o.G+o.W+o.F*!B,{Symbol:V});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)p(nt[et++]);for(var at=M(p.store),rt=0;at.length>rt;)v(at[rt++]);o(o.S+o.F*!B,"Symbol",{for:function(t){return r(D,t+="")?D[t]:D[t]=V(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!B,"Object",{create:function(t,n){return void 0===n?E(t):q(E(t),n)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var it=c(function(){P.f(1)});o(o.S+o.F*it,"Object",{getOwnPropertySymbols:function(t){return P.f(_(t))}}),R&&o(o.S+o.F*(!B||c(function(){var t=V();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var n,e,a=[t],r=1;arguments.length>r;)a.push(arguments[r++]);if(e=n=a[1],(x(n)||void 0!==t)&&!Y(t))return m(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Y(n))return n}),a[1]=n,L.apply(R,a)}}),V.prototype[U]||e(91)(V.prototype,U,V.prototype.valueOf),f(V,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},function(t,n,e){var a=e(111)("meta"),r=e(88),i=e(90),o=e(84).f,s=0,u=Object.isExtensible||function(){return!0},c=!e(97)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,a,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:a,NEED:!1,fastKey:function(t,n){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,a)){if(!u(t))return"F";if(!n)return"E";l(t)}return t[a].i},getWeak:function(t,n){if(!i(t,a)){if(!u(t))return!0;if(!n)return!1;l(t)}return t[a].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!i(t,a)&&l(t),t}}},function(t,n,e){var a=e(101),r=e(144),i=e(117);t.exports=function(t){var n=a(t),e=r.f;if(e)for(var o,s=e(t),u=i.f,c=0;s.length>c;)u.call(t,o=s[c++])&&n.push(o);return n}},function(t,n,e){var a=e(102);t.exports=Array.isArray||function(t){return"Array"==a(t)}},function(t,n,e){var a=e(95),r=e(180).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(a(t))}},function(t,n,e){e(143)("asyncIterator")},function(t,n,e){e(143)("observable")},function(t,n,e){t.exports={default:e(334),__esModule:!0}},function(t,n,e){e(335),t.exports=e(66).Object.setPrototypeOf},function(t,n,e){var a=e(75);a(a.S,"Object",{setPrototypeOf:e(336).set})},function(t,n,e){var a=e(88),r=e(78),i=function(t,n){if(r(t),!a(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,a){try{(a=e(96)(Function.call,e(181).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:a(t,e),t}}({},!1):void 0),check:i}},function(t,n,e){t.exports={default:e(338),__esModule:!0}},function(t,n,e){e(339);var a=e(66).Object;t.exports=function(t,n){return a.create(t,n)}},function(t,n,e){var a=e(75);a(a.S,"Object",{create:e(140)})},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=function(){function t(n,e,a,i){r()(this,t),this.gl=n,this.name=a,this.dtype=i,this.location=n.getUniformLocation(e,this.name)}return o()(t,[{key:"set",value:function(t){var n=this.gl;switch(this.dtype){case"int":n.uniform1i(this.location,t);break;case"float":n.uniform1f(this.location,t);break;case"vec2":n.uniform2fv(this.location,t);break;case"vec3":n.uniform3fv(this.location,t);break;case"vec4":n.uniform4fv(this.location,t);break;case"mat3":n.uniformMatrix3fv(this.location,!1,t);break;case"mat4":n.uniformMatrix4fv(this.location,!1,t);break;default:return!1}return!0}}]),t}();n.a=s},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=function(){function t(n,e,a,i){r()(this,t),this.program=e,this.gl=n,this.name=a,this.dtype=i,this.location=n.getAttribLocation(this.program,this.name),this.ctx=n.createBuffer(),this.empty=new ArrayBuffer(1),"float"===i||"int"===i?this.size=1:(this.size=parseInt(/\d/g.exec(i)[0],10),n.enableVertexAttribArray(this.location))}return o()(t,[{key:"set",value:function(t){var n=this.gl;this.bind(this.ctx),"int"===this.dtype?n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),n.STATIC_DRAW):n.bufferData(n.ARRAY_BUFFER,new Float32Array(t),n.STATIC_DRAW)}},{key:"bind",value:function(){var t=this.gl;"int"===this.dtype?t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.ctx):(t.bindBuffer(t.ARRAY_BUFFER,this.ctx),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0))}},{key:"unbind",value:function(){var t=this.gl;"int"===this.dtype?t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null):(t.bindBuffer(t.ARRAY_BUFFER,null),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0))}},{key:"disable",value:function(){this.gl.disableVertexAttribArray(this.ctx)}},{key:"enable",value:function(){this.gl.enableVertexAttribArray(this.ctx)}},{key:"delete",value:function(){this.gl.deleteBuffer(this.ctx),this.program=null,this.gl=null,this.ctx=null}}]),t}();n.a=s},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nprecision highp float;\n\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoords;\nvarying vec2 texCoords;\n\nvoid main(void) {\n  texCoords = aTextureCoords;\n\n  gl_Position = vec4(aVertexPosition, 1.0);\n}"},function(t,n,e){t.exports={default:e(344),__esModule:!0}},function(t,n,e){e(115),e(345),t.exports=e(66).Array.from},function(t,n,e){"use strict";var a=e(96),r=e(75),i=e(94),o=e(184),s=e(185),u=e(131),c=e(346),l=e(147);r(r.S+r.F*!e(187)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,r,f,h=i(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(h);if(g&&(v=a(v,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=new p(n=u(h.length));n>m;m++)c(e,m,g?v(h[m],m):h[m]);else for(f=y.call(h),e=new p;!(r=f.next()).done;m++)c(e,m,g?o(f,v,[r.value,m],!0):r.value);return e.length=m,e}})},function(t,n,e){"use strict";var a=e(84),r=e(104);t.exports=function(t,n,e){n in t?a.f(t,n,r(0,e)):t[n]=e}},function(t,n,e){"use strict";n.a=function(t){var n,e=void 0;if(n=t.kernel,/void main\(([^)]+)?\)([\s]+)?{/.exec(n))e=t.kernel;else{var a=function(t){for(var n=o()({},t.uniform),e=r()(t.input),a="precision highp float;\n",i=0;i<e.length;i+=1)n[e[i]]={dtype:"sampler2D"};for(var s=r()(n),c=0;c<s.length;c+=1){var l=s[c];if(!f(n[l].dtype))throw Error("KernelConstructor: Uniform "+l+' has invalid type "'+n[l].dtype+'"');a+="uniform "+n[l].dtype+" "+l+";\n"}a+="varying vec2 texCoords;\n";for(var h=r()(t.constant),p=0;p<h.length;p+=1){var d=h[p],v=t.constant[d];"number"===(void 0===v?"undefined":u()(v))&&v%1==0&&(v=v.toFixed(1));var g=(y=void 0,y=void 0===(m=v)?"undefined":u()(m),(x=/^(vec\d|mat\d)\([^)]+\)$/.exec(m+=""))?y=x[1]:/^\d+$/.exec(m)?y="int":/^\d+\.(\d+)?$/.exec(m)?y="float":"boolean"===y&&(y="bool"),y);if(!f(g))throw Error("KernelConstructor: Constant "+d+', has invalid type "'+g+'"');a+="#define "+d+" "+v+"\n"}var m,y,x;return a}(t),i=function(t){var n=[];return l.a.SUPPORTS_FLOAT_TEXTURES||n.push("float"),n.concat(t.chunks.filter(function(t,n,e){return e.indexOf(t)===n})).map(function(n){var e=" Chunk "+n+" ",a=35-e.length,r=""+"-".repeat(Math.floor(a/2))+e+"-".repeat(Math.ceil(a/2));if("function"==typeof c[n])return"/*"+r+"*/\n"+c[n](t)+"\n/*"+"-".repeat(35)+"*/";throw new TypeError('KernelConstructor: Chunk "'+n+'" is not a function')}).join("\n")}(t),s=c.main(t);e=[a,i,t.kernel,s].join("\n\n")}return l.a.DEBUG,e};var a=e(100),r=e.n(a),i=e(188),o=e.n(i),s=e(139),u=e.n(s),c=e(351),l=e(89);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function f(t){return["bool","int","uint","float","double","vec2","vec3","vec4","mat2","mat3","mat4","sampler2D"].indexOf(t)>=0}e(183)},function(t,n,e){e(349),t.exports=e(66).Object.assign},function(t,n,e){var a=e(75);a(a.S+a.F,"Object",{assign:e(350)})},function(t,n,e){"use strict";var a=e(85),r=e(101),i=e(144),o=e(117),s=e(94),u=e(173),c=Object.assign;t.exports=!c||e(97)(function(){var t={},n={},e=Symbol(),a="abcdefghijklmnopqrst";return t[e]=7,a.split("").forEach(function(t){n[t]=t}),7!=c({},t)[e]||Object.keys(c({},n)).join("")!=a})?function(t,n){for(var e=s(t),c=arguments.length,l=1,f=i.f,h=o.f;c>l;)for(var p,d=u(arguments[l++]),v=f?r(d).concat(f(d)):r(d),g=v.length,m=0;g>m;)p=v[m++],a&&!h.call(d,p)||(e[p]=d[p]);return e}:c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"float",function(){return s});var a=e(352),r=e(353),i=e.n(r),o=e(354);e.d(n,"main",function(){return a.a}),e.d(n,"pickValue",function(){return o.a});
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
var s=function(){return i.a}},function(t,n,e){"use strict";var a=e(89);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n="\nvoid main(void) {\n  vec2 coords = gl_FragCoord.xy - 0.5;\n  vec4 result = operation(coords.y, coords.x);\n\n  gl_FragColor = result;\n}\n  ";return a.a.SUPPORTS_FLOAT_TEXTURES||"float32"!==t.dtype||(n="\n    void main(void) {\n      vec2 coords = gl_FragCoord.xy;\n\n      highp float ox = floor(coords.x / 4.0);\n      float dx = floor(coords.x - ox * 4.0 + 0.5);\n    \n      vec4 result = operation(coords.y - 0.5, floor((coords.x - 0.5) / 4.0));\n\n      float value;\n\n      if (dx == 1.0) {\n        value = result.r;\n      } else if (dx == 2.0) {\n        value = result.g;\n      } else if (dx == 3.0) {\n        value = result.b;\n      } else if (dx == 4.0) {\n        value = result.a;\n      }\n    \n      gl_FragColor = encode_float(value);\n    }\n    "),n}},function(t,n){t.exports="/**\n * @author twerdster from https://stackoverflow.com/a/7237286\n */\nprecision highp float;\n\nhighp vec4 encode_float(highp float f) {\n  if (f == 1. / 0.) {\n    return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n  }\n\n  highp vec4 rgba;\n  highp float e =5.0;\n  highp float F = abs(f); \n  highp float sign = step(0.0,-f);\n  highp float exponent = floor(log2(F));\n  highp float mantissa = (exp2(- exponent) * F);\n  exponent = floor(log2(F) + 127.0) + floor(log2(mantissa));\n  rgba[0] = 128.0 * sign + floor(exponent * exp2(-1.0));\n  rgba[1] = 128.0 * mod(exponent, 2.0) + mod(floor(mantissa * 64.0 * 2.0), 128.0);  \n  rgba[2] = floor(mod(floor(mantissa * exp2(23.0 -8.0)), exp2(8.0)));\n  rgba[3] = floor(exp2(23.0) * mod(mantissa, exp2(-15.0)));\n\n  return rgba.abgr / 255.0;\n}\n\nfloat decode_float(highp vec4 rgba) {\n  rgba = rgba.abgr * 255.0;\n  highp float sign = 1.0 - step(128.0,rgba[0])*2.0;\n  highp float exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0; \n  exponent = floor(exponent + 0.5);\n  highp float mantissa = mod(rgba[1],128.0)*32768.0 * 2.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n  highp float result = sign\n    * mantissa\n    * exp2(-23.0)\n    * exp2(exponent);\n\n  return result;\n}\n"},function(t,n,e){"use strict";var a=e(146),r=e.n(a),i=e(100),o=e.n(i),s=e(89);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){for(var n=o()(t.input),e=[],a=function(a){var i=n[a];if(!t.input[i].shape)return"continue";var o=[].concat(r()(t.input[i].shape)),u=o[1].toFixed(1),c=o[0].toFixed(1),l=(4*o[1]).toFixed(1),f=function(t,n,e){return t+" "+n+"_"+i+"(float y, float x) {\n\treturn texture2D("+i+", vec2((x + 0.5) / "+u+", (y + 0.5) / "+c+"))"+e+";\n}"};s.a.SUPPORTS_FLOAT_TEXTURES||"float32"!==t.input[i].dtype||(f=function(t,n,e){return"\n        "+t+" "+n+"_"+i+"(float y, float x) {\n          float r = decode_float(texture2D("+i+", vec2((x * 4.0 + 0.5) / "+l+", y / "+c+")));\n          float g = decode_float(texture2D("+i+", vec2((x * 4.0 + 1.5) / "+l+", y / "+c+")));\n          float b = decode_float(texture2D("+i+", vec2((x * 4.0 + 2.5) / "+l+", y / "+c+")));\n          float a = decode_float(texture2D("+i+", vec2((x * 4.0 + 3.5) / "+l+", y / "+c+")));\n\n          return vec4(r, g, b, a)"+e+";\n        }\n      "}),e.push(f("vec4","pickValue","")),e.push(f("float","pickScalarValue",".x"))},i=0;i<n.length;i+=1)a(i);return e.join("\n")}},function(t,n,e){t.exports={default:e(356),__esModule:!0}},function(t,n,e){e(141),e(115),t.exports=e(357)},function(t,n,e){var a=e(78),r=e(147);t.exports=e(66).getIterator=function(t){var n=r(t);if("function"!=typeof n)throw TypeError(t+" is not iterable!");return a(n.call(t))}},function(t,n,e){"use strict";var a=e(113),r=e.n(a),i=e(71),o=e.n(i),s=e(72),u=e.n(s),c=e(114),l=e.n(c),f=e(118),h=e.n(f),p=e(145),d=e(62),v=function(t){function n(t,e){o()(this,n);var a=l()(this,(n.__proto__||r()(n)).call(this,"MediaInput"));return a.dtype="uint8",a.inputKeys=[],a.isInitialized=!1,a.lastCtx=Math.random(),a.cache=!0,a.assignMedia(t,e),a}return h()(n,t),u()(n,[{key:"assignMedia",value:function(t,n){t&&d.a(d.l(t)||d.d(t),"MediaInput: Is only Video, Canvas element available as input"),n&&d.a(d.k(n),"MediaInput: Shape is invalid"),this.media=t,this.shape=n}}]),n}(p.a);n.a=v},function(t,n,e){"use strict";e(190);var a=e(360);e.d(n,"b",function(){return a.a}),e.d(n,"c",function(){return a.b}),e.d(n,"d",function(){return a.c}),e.d(n,"e",function(){return a.d}),e(361);var r=e(373);e.d(n,"a",function(){return r.a})},function(t,n,e){"use strict";n.c=
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(n instanceof a.a))throw Error("tensorToCanvas: Input tensor invalid");n.shape[2]&&4===n.shape[2]&&(e=!0);var o=r.a(n,e,i);t.getContext("2d").putImageData(o,0,0)},e.d(n,"a",function(){return i}),e.d(n,"d",function(){return o}),n.b=function(t,n){var e=t.getContext("2d");e.fillStyle=n,e.fillRect(0,0,t.width,t.height)};var a=e(86),r=e(190),i=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 0, 0, 0.5)",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=t.getContext("2d");r.beginPath(),Array.isArray(n)?(r.moveTo(n[0],n[1]),r.lineTo(n[2],n[3])):(r.moveTo(n.data[0],n.data[1]),r.lineTo(n.data[2],n.data[3])),r.strokeStyle=e,r.lineWidth=a,r.stroke(),r.closePath()},o=function(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}},function(t,n,e){"use strict";var a=e(191);e.n(a),e(86)},function(t,n,e){e(182),e(115),e(141),e(363),e(371),e(372),t.exports=e(66).Promise},function(t,n,e){"use strict";var a,r,i,o,s=e(103),u=e(70),c=e(96),l=e(186),f=e(75),h=e(88),p=e(112),d=e(364),v=e(365),g=e(192),m=e(193).set,y=e(367)(),x=e(149),_=e(194),k=e(368),b=e(195),S=u.TypeError,E=u.process,w=E&&E.versions,T=w&&w.v8||"",P=u.Promise,A="process"==l(E),M=function(){},C=r=x.f,I=!!function(){try{var t=P.resolve(1),n=(t.constructor={})[e(73)("species")]=function(t){t(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof n&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},V=function(t,n){if(!t._n){t._n=!0;var e=t._c;y(function(){for(var a=t._v,r=1==t._s,i=0,o=function(n){var e,i,o,s=r?n.ok:n.fail,u=n.resolve,c=n.reject,l=n.domain;try{s?(r||(2==t._h&&j(t),t._h=1),!0===s?e=a:(l&&l.enter(),e=s(a),l&&(l.exit(),o=!0)),e===n.promise?c(S("Promise-chain cycle")):(i=O(e))?i.call(e,u,c):u(e)):c(a)}catch(t){l&&!o&&l.exit(),c(t)}};e.length>i;)o(e[i++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){m.call(u,function(){var n,e,a,r=t._v,i=L(t);if(i&&(n=_(function(){A?E.emit("unhandledRejection",r,t):(e=u.onunhandledrejection)?e({promise:t,reason:r}):(a=u.console)&&a.error&&a.error("Unhandled promise rejection",r)}),t._h=A||L(t)?2:1),t._a=void 0,i&&n.e)throw n.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,function(){var n;A?E.emit("rejectionHandled",t):(n=u.onrejectionhandled)&&n({promise:t,reason:t._v})})},U=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),V(n,!0))},K=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw S("Promise can't be resolved itself");(n=O(t))?y(function(){var a={_w:e,_d:!1};try{n.call(t,c(K,a,1),c(U,a,1))}catch(t){U.call(a,t)}}):(e._v=t,e._s=1,V(e,!1))}catch(t){U.call({_w:e,_d:!1},t)}}};I||(P=function(t){d(this,P,"Promise","_h"),p(t),a.call(this);try{t(c(K,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(369)(P.prototype,{then:function(t,n){var e=C(g(this,P));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=A?E.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&V(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new a;this.promise=t,this.resolve=c(K,t,1),this.reject=c(U,t,1)},x.f=C=function(t){return t===P||t===o?new i(t):r(t)}),f(f.G+f.W+f.F*!I,{Promise:P}),e(116)(P,"Promise"),e(370)("Promise"),o=e(66).Promise,f(f.S+f.F*!I,"Promise",{reject:function(t){var n=C(this);return(0,n.reject)(t),n.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(t){return b(s&&this===o?P:this,t)}}),f(f.S+f.F*!(I&&e(187)(function(t){P.all(t).catch(M)})),"Promise",{all:function(t){var n=this,e=C(n),a=e.resolve,r=e.reject,i=_(function(){var e=[],i=0,o=1;v(t,!1,function(t){var s=i++,u=!1;e.push(void 0),o++,n.resolve(t).then(function(t){u||(u=!0,e[s]=t,--o||a(e))},r)}),--o||a(e)});return i.e&&r(i.v),e.promise},race:function(t){var n=this,e=C(n),a=e.reject,r=_(function(){v(t,!1,function(t){n.resolve(t).then(e.resolve,a)})});return r.e&&a(r.v),e.promise}})},function(t,n){t.exports=function(t,n,e,a){if(!(t instanceof n)||void 0!==a&&a in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var a=e(96),r=e(184),i=e(185),o=e(78),s=e(131),u=e(147),c={},l={};(n=t.exports=function(t,n,e,f,h){var p,d,v,g,m=h?function(){return t}:u(t),y=a(e,f,n?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(p=s(t.length);p>x;x++)if((g=n?y(o(d=t[x])[0],d[1]):y(t[x]))===c||g===l)return g}else for(v=m.call(t);!(d=v.next()).done;)if((g=r(v,y,d.value,n))===c||g===l)return g}).BREAK=c,n.RETURN=l},function(t,n){t.exports=function(t,n,e){var a=void 0===e;switch(n.length){case 0:return a?t():t.call(e);case 1:return a?t(n[0]):t.call(e,n[0]);case 2:return a?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return a?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return a?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var a=e(70),r=e(193).set,i=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,u="process"==e(102)(o);t.exports=function(){var t,n,e,c=function(){var a,r;for(u&&(a=o.domain)&&a.exit();t;){r=t.fn,t=t.next;try{r()}catch(a){throw t?e():n=void 0,a}}n=void 0,a&&a.enter()};if(u)e=function(){o.nextTick(c)};else if(!i||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);e=function(){l.then(c)}}else e=function(){r.call(a,c)};else{var f=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(a){var r={fn:a,next:void 0};n&&(n.next=r),t||(t=r,e()),n=r}}},function(t,n,e){var a=e(70).navigator;t.exports=a&&a.userAgent||""},function(t,n,e){var a=e(91);t.exports=function(t,n,e){for(var r in n)e&&t[r]?t[r]=n[r]:a(t,r,n[r]);return t}},function(t,n,e){"use strict";var a=e(70),r=e(66),i=e(84),o=e(85),s=e(73)("species");t.exports=function(t){var n="function"==typeof r[t]?r[t]:a[t];o&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,e){"use strict";var a=e(75),r=e(66),i=e(70),o=e(192),s=e(195);a(a.P+a.R,"Promise",{finally:function(t){var n=o(this,r.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(t,n,e){"use strict";var a=e(75),r=e(149),i=e(194);a(a.S,"Promise",{try:function(t){var n=r.f(this),e=i(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},function(t,n,e){"use strict";var a=e(191),r=e.n(a),i=e(71),o=e.n(i),s=e(72),u=e.n(s),c=e(86);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */
function l(t,n){return t*n}function f(t,n){return n/t}function h(t,n,e){if(n){var a=f(t,n);if(a>e)return{width:n,height:a}}return{width:l(t,e),height:e}}var p=function(){function t(n,e){o()(this,t),this.video=document.createElement("video"),this.video.muted=!0,this.video.playsInline=!0,this.canvas=document.createElement("canvas"),this.canvasCtx=this.canvas.getContext("2d"),this.sourceCanvas=document.createElement("canvas"),this.sourceCanvasCtx=this.sourceCanvas.getContext("2d"),this.width=n,this.height=e,this.sourceWidth=n,this.sourceHeight=e,this.setSize(n,e),this.track=null}return u()(t,null,[{key:"IsAvailable",value:function(){var t={video:{width:{min:480,ideal:1080,max:1920},height:{min:480,ideal:1080,max:1920}}};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;var n=navigator.userAgent;-1!==n.indexOf("Safari")&&-1===n.indexOf("Chrome")&&(delete t.video.width,delete t.video.height);var e=r.a.resolve();return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?e=e.then(function(){return navigator.mediaDevices.getUserMedia(t)}):navigator.getUserMedia&&(e=e.then(function(){return new r.a(function(n){return navigator.getUserMedia(t,n)})})),e.then(function(t){var n=t.getTracks(),e=n[0].getSettings().deviceId;return n.forEach(function(t){return t.stop()}),e||!0}).catch(function(){return r.a.resolve(!1)})}},{key:"getDevices",value:function(){return"mediaDevices"in navigator&&"enumerateDevices"in navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"videoinput"===t.kind})}):r.a.resolve(null)}}]),u()(t,[{key:"setSize",value:function(t,n){this.width=t,this.height=n,this.canvas.width=t,this.canvas.height=n,this.sourceCanvas.width=t,this.sourceCanvas.height=n,this.sourceMinWidth=t,this.sourceMinHeight=n}},{key:"setSourceSize",value:function(t,n){var e=h(t/n,this.width,this.height),a=function(t,n,e){if(n){var a=f(t,n);if(a<=e)return{width:n,height:a}}return{width:l(t,e),height:e}}(this.width/this.height,t,n),r=h(t/n,a.width,a.height);this.sourceMinWidth=e.width,this.sourceMinHeight=e.height,this.sourceWidth=r.width,this.sourceHeight=r.height,this.sourceCanvas.width=a.width,this.sourceCanvas.height=a.height}},{key:"getDevice",value:function(){return this.track?this.track.getSettings().deviceId:null}},{key:"start",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.started=!0;var a={video:{width:{min:240,ideal:1080,max:1920},height:{min:240,ideal:1080,max:1920},aspectRatio:{exact:this.width/this.height},deviceId:t?{ideal:t}:void 0,facingMode:e?{exact:e}:null}},i=navigator.userAgent,o=!(-90===window.orientation||90===window.orientation||window.offsetWidth>window.offsetHeight);/android/i.test(i)&&o&&(a.video.aspectRatio.exact=1/a.video.aspectRatio.exact),-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome")&&(delete a.video.width,delete a.video.height,delete a.video.aspectRatio),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;var s=r.a.resolve();return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?s=s.then(function(){return navigator.mediaDevices.getUserMedia(a)}):navigator.getUserMedia&&(s=s.then(function(){return new r.a(function(t){return navigator.getUserMedia(a,t)})})),s.then(function(t){if(t){var e=t.getTracks();return n.started?("srcObject"in n.video?n.video.srcObject=t:n.video.src=window.URL.createObjectURL(t),n.track=e[0],n.video.play().then(function(){return n.setSourceSize(n.video.videoWidth,n.video.videoHeight)})):(e.forEach(function(t){return t.stop()}),null)}throw Error("getUserMedia not found or no stream was created")})}},{key:"stop",value:function(){this.started=!1,this.track&&(this.track.stop(),this.track=null)}},{key:"drawImage",value:function(t,n,e,a,r){t.drawImage(this.video,(a-n)/-2,(r-e)/-2,a,r)}},{key:"getImageBuffer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvasCtx,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.width,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.height,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:this.sourceMinWidth,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:this.sourceMinHeight;this.drawImage(n,o,s,u,l);var f=n.getImageData(r,i,o,s);if(t instanceof c.a)return t.data.set(f.data),t;switch(t){case"uint8":return new Uint8Array(f.data);case"uint8c":return f.data;case"float32":return new Float32Array(f.data);default:return f}}},{key:"getImageBufferTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvasCtx,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.width,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.height,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,u=arguments[8];n.drawImage(this.video,(this.sourceWidth-this.width)/-2,(this.sourceHeight-this.height)/-2,this.sourceWidth,this.sourceHeight);var c=n.getImageData(r,i,o,s);u.data=c.data.buffer}},{key:"getSourceImageBuffer",value:function(t,n,e,a,r){return this.getImageBuffer(t,this.sourceCanvasCtx,this.sourceCanvas.width,this.sourceCanvas.height,n,e,a,r,this.sourceWidth,this.sourceHeight)}}]),t}();n.a=p},function(t,n,e){"use strict";var a=e(375);e.d(n,"o",function(){return a.a});var r=e(377);e.d(n,"n",function(){return r.a});var i=e(379);e.d(n,"l",function(){return i.a});var o=e(150);e.d(n,"z",function(){return o.a});var s=e(381);e.d(n,"C",function(){return s.a});var u=e(383);e.d(n,"r",function(){return u.a});var c=e(387);e.d(n,"f",function(){return c.a});var l=e(389);e.d(n,"e",function(){return l.a});var f=e(392);e.d(n,"g",function(){return f.a});var h=e(198);e.d(n,"t",function(){return h.a});var p=e(199);e.d(n,"p",function(){return p.a}),e(200),e(402);var d=e(404);e.d(n,"B",function(){return d.a}),e(406),e(409),e(411);var v=e(413);e.d(n,"x",function(){return v.a});var g=e(416);e.d(n,"q",function(){return g.a}),e(419);var m=e(421);e.d(n,"y",function(){return m.a});var y=e(425);e.d(n,"a",function(){return y.a});var x=e(428);e.d(n,"G",function(){return x.a});var _=e(196);e.d(n,"h",function(){return _.a}),e.d(n,"s",function(){return _.b});var k=e(201);e.d(n,"m",function(){return k.a});var b=e(202);e.d(n,"i",function(){return b.a});var S=e(432);e.d(n,"u",function(){return S.a});var E=e(441);e.d(n,"H",function(){return E.a});var w=e(204);e.d(n,"A",function(){return w.a}),e.d(n,"D",function(){return w.b});var T=e(445);e.d(n,"b",function(){return T.a});var P=e(203);e.d(n,"E",function(){return P.g}),e.d(n,"j",function(){return P.c}),e.d(n,"v",function(){return P.e}),e.d(n,"c",function(){return P.a}),e.d(n,"F",function(){return P.h}),e.d(n,"k",function(){return P.d}),e.d(n,"w",function(){return P.f}),e.d(n,"d",function(){return P.b})},function(t,n,e){"use strict";var a=e(61),r=e(376),i=e.n(r);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){return new a.a("Grayscale").Input("tSrc","uint8").Output("uint8").LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst vec3 k = vec3(0.2128, 0.7148, 0.0724);\n\nvec4 operation(float y, float x) {\n  float value = dot(pickValue_tSrc(y, x).rgb, k);\n\n\treturn vec4(value, value, value, 1.0);\n}\n"},function(t,n,e){"use strict";var a=e(196),r=e(197),i=e(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return i.a(n>=3,"Kernel size should be greater equal 3"),i.a(e>0,"Sigma should be greater then 0"),Object(a.a)(t,Object(r.gaussianBlur)(n,e))}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst float hWidth = (KERNEL_WIDTH - 1.0) / 2.0;\nconst float hHeight = (KERNEL_HEIGHT - 1.0) / 2.0;\n\nvec4 operation(float y, float x) {\n  vec3 finalColour = vec3(0.0);\n\n  for (float dy=-hHeight; dy <= hHeight; dy += 1.0) {\n    for (float dx=-hWidth; dx <= hWidth; dx += 1.0) {\n      vec3 k = pickValue_tKernel(float(dy + hHeight), float(dx + hWidth)).rgb;\n\n      finalColour += pickValue_tSrc(y + dy, x + dx).rgb * k;\n    }\n  }\n\n  return vec4(finalColour * factor + bias, 1.0);\n}\n"},function(t,n,e){"use strict";var a=e(150);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=~~(t.shape[1]/n),i=~~(t.shape[0]/n);return Object(a.a)(t,r,i,e)}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float j, float i) {\n  float x = floor(i * TX);\n  float y = floor(j * TY);\n\n  // nearest\n  if (S == 0.0) {\n    return pickValue_tSrc(y, x);\n  }\n\n  // bicubic\n  if (S == 1.0) {\n    float dx = floor(TX * i) - x;\n    float dy = floor(TY * j) - y;\n\n    vec4 C[4];\n\n    for (float jj = 0.0; jj <= 3.0; jj += 1.0) {\n      vec4 d0 = pickValue_tSrc(y - 1.0 + jj, x - 1.0) - pickValue_tSrc(y - 1.0 + jj, x);\n      vec4 d2 = pickValue_tSrc(y - 1.0 + jj, x + 1.0) - pickValue_tSrc(y - 1.0 + jj, x);\n      vec4 d3 = pickValue_tSrc(y - 1.0 + jj, x + 2.0) - pickValue_tSrc(y - 1.0 + jj, x);\n      vec4 a0 = pickValue_tSrc(y - 1.0 + jj, x);\n      vec4 a1 = -1.0 / 3.0 * d0 + d2 - 1.0 / 6.0 * d3;\n      vec4 a2 = 1.0 / 2.0 * d0 + 1.0 / 2.0 * d2;\n      vec4 a3 = -1.0 / 6.0 * d0 + 1.0 / 2.0 * d2 + 1.0 / 6.0 * d3;\n\n      C[int(jj)] = a0 + a1 * dx + a2 * dx * dx + a3 * dx * dx * dx;\n    }\n\n    vec4 d0 = C[0] - C[1];\n    vec4 d2 = C[2] - C[1];\n    vec4 d3 = C[3] - C[1];\n    vec4 a0 = C[1];\n\n    vec4 a1 = -1.0 / 3.0 * d0 + d2 - 1.0 / 6.0 * d3;\n    vec4 a2 = 1.0 / 2.0 * d0 + 1.0 / 2.0 * d2;\n    vec4 a3 = -1.0 / 6.0 * d0 - 1.0 / 2.0 * d2 + 1.0 / 6.0 * d3;\n\n    vec4 Cc = a0 + a1 * dy + a2 * dy * dy + a3 * dy * dy  * dy;\n\n    return Cc;\n  }\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(382),i=e.n(r);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){return new a.a("SobelOperator").Input("tSrc",t.dtype).Output("float32").Uniform("uWidth","float",t.shape[0]).Uniform("uHeight","float",t.shape[1]).Constant("PI",Math.PI).GLSLKernel(i.a).LoadChunk("pickValue").Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  float wk = 1.0;\n  float hk = 1.0;\n\n  float dx = 0.0;\n  float dy = 0.0;\n\n  /*\n    -1 0 +1\n    -2 0 +2\n    -1 0 +1\n  */\n  dx += -1.0 * pickScalarValue_tSrc(y - hk, x - wk);\n  dx += -2.0 * pickScalarValue_tSrc(y,      x - wk);\n  dx += -1.0 * pickScalarValue_tSrc(y + wk, x - wk);\n\n  dx += +1.0 * pickScalarValue_tSrc(y - wk, x + wk);\n  dx += +2.0 * pickScalarValue_tSrc(y,      x + wk);\n  dx += +1.0 * pickScalarValue_tSrc(y + wk, x + wk);\n\n  /*\n    -1 -2 -1\n     0  0  0\n    +1 +2 +1\n  */\n  dy += -1.0 * pickScalarValue_tSrc(y - wk, x - wk);\n  dy += -2.0 * pickScalarValue_tSrc(y - wk, x    );\n  dy += -1.0 * pickScalarValue_tSrc(y - wk, x + wk);\n\n  dy += +1.0 * pickScalarValue_tSrc(y + wk, x - wk);\n  dy += +2.0 * pickScalarValue_tSrc(y + wk, x    );\n  dy += +1.0 * pickScalarValue_tSrc(y + wk, x + wk);\n\n  float magniture = sqrt((dx * dx) + (dy * dy));\n  float theta = atan(dy / dx);\n\n\treturn vec4(magniture, dx, dy, theta);\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(384),i=e.n(r),o=e(385),s=e.n(o),u=e(386),c=e.n(u),l=e(62),f=function(t){return new a.a("HOGDirection").Input("tSrc","uint8").Output("float32").Uniform("uWidth","float",t.shape[1]).Uniform("uHeight","float",t.shape[0]).LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t})};n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"max";l.a("max"===e||"visualize"===e,"Unsupported type of HOG operation.\n     Currently availiable max and visualize.");var r=null;return"max"===e&&(r=function(t,n){return new a.a("HOGMax").Input("tSrc","uint8").Output("float32").Uniform("uSrcWidth","float",t.shape[1]).Uniform("uSrcHeight","float",t.shape[0]).Uniform("uWidth","float",~~(t.shape[1]/n)).Uniform("uHeight","float",~~(t.shape[0]/n)).Constant("PI",Math.PI).Constant("W",~~(t.shape[1]/n)).Constant("H",~~(t.shape[0]/n)).Constant("K",n).LoadChunk("pickValue").SetShapeFn(function(){return[~~(t.shape[0]/n),~~(t.shape[1]/n),4]}).GLSLKernel(c.a).Compile({tSrc:t})}(f(t),n)),"visualize"===e&&(r=function(t,n){return new a.a("HOG").Input("tSrc","uint8").Output("float32").Uniform("uSrcWidth","float",t.shape[1]).Uniform("uSrcHeight","float",t.shape[0]).Uniform("uWidth","float",3*~~(t.shape[1]/n)).Uniform("uHeight","float",3*~~(t.shape[0]/n)).Constant("PI",Math.PI).Constant("W",~~(t.shape[1]/n)).Constant("H",~~(t.shape[0]/n)).Constant("K",n).LoadChunk("pickValue").SetShapeFn(function(){return[3*~~(t.shape[0]/n),3*~~(t.shape[1]/n),4]}).GLSLKernel(s.a).Compile({tSrc:t})}(f(t),n)),r}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  float dx = pickValue_tSrc(y, x + 1.0).r - pickValue_tSrc(y, x - 1.0).r;\n  float dy = pickValue_tSrc(y + 1.0, x).r - pickValue_tSrc(y - 1.0, x).r;\n\n  float magniture = sqrt((dx * dx) + (dy * dy));\n\n\treturn vec4(magniture, atan(dy / dx), dx, dy);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nfloat A = 180.0 / 9.0; // size of channel in deg\nfloat S = 3.0;\n\nvec4 operation(float y, float x) {\n  float my = y - (S * floor(y / S));\n  float mx = x - (S * floor(x / S));\n\n  x = x / S;\n  y = y / S;\n  float index = mx + (my * S);\n\n  float sum = 0.0;\n\n  for (float dx = 0.0; dx < K; dx += 1.0) {\n    for (float dy = 0.0; dy < K; dy += 1.0) {\n      vec4 v = pickValue_tSrc(((y * K) + dy), ((x * K) + dx));\n\n        float theta = abs(PI / 2.0 - v.g);\n        float deg = theta * (180.0 / PI);\n        float i = floor(deg / A);\n\n      if (i == index) {\n        sum += v.r;\n      }\n    }\n  }\n\n   float rad = (index / 9.0 * PI);\n\n   return vec4(sum, rad, 0.0, 0.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int w = int(W);\nconst int h = int(H);\nconst int k = int(K);\nconst float S = 3.0;\nfloat A = 180.0 / 9.0; // size of channel in deg\n\nvec4 getPixel(float y, float x) {\n  float x1 = x / float(w);\n  float y1 = y / float(h);\n\n  return pickValue_tSrc(floor(y1 * uSrcHeight), floor(x1 * uSrcWidth));\n}\n\nvec4 getPixel(float y, float x, float xOffset, float yOffset) {\n  float x1 = x / float(w);\n  float y1 = y / float(h);\n\n  return pickValue_tSrc(floor(y1 * uSrcHeight) + yOffset, floor(x1 * uSrcWidth) + xOffset);\n}\n\nvec4 operation(float y, float x) {\n   float x1 = x / W;\n   float y1 = y / H;\n   float res = 0.0;\n   float tmpx = x / S;\n   float tmpy = y / S;\n   float sum[9];\n   int count = 0;\n\n   vec4 value = getPixel(y, x);\n\n   for (int _x = 0; _x < k; _x += 1) {\n      for (int _y = 0; _y < k; _y += 1) {\n        vec4 v = getPixel(y, x, float(_y), float(_x));\n\n        float theta = abs(PI / 2.0 - v.g);\n        float deg = theta * (180.0 / PI);\n        int i = int(floor(deg / A));\n\n        // if (i == 0) {\n        //   sum[0] += v.r;\n        // }\n        if (i == 1) {\n          sum[1] += v.r;\n        }\n        if (i == 2) {\n          sum[2] += v.r;\n        }\n        if (i == 3) {\n          sum[3] += v.r;\n        }\n        if (i == 4) {\n          sum[4] += v.r;\n        }\n        if (i == 5) {\n          sum[5] += v.r;\n        }\n        if (i == 6) {\n          sum[6] += v.r;\n        }\n        if (i == 7) {\n          sum[7] += v.r;\n        }\n        if (i == 8) {\n          sum[8] += v.r;\n        }\n      }\n   }\n\n   int maxI = 0;\n   float maxV = 0.0;\n\n   for (int i = 0; i < 9; i++) {\n      if (maxV < sum[i]) {\n        maxI = i;\n        maxV = sum[i];\n      }\n   }\n\n   return vec4(maxI, maxV, 0.0, 0.0);\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(388),i=e.n(r);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.dtype;return new a.a("Cast").Input("tSrc",t.dtype).Output(n).LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n\treturn pickValue_tSrc(y, x);\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(390),i=e.n(r),o=e(391),s=e.n(o),u=e(62);n.a=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75;return function(t,n,e){return u.a(n>=0,"Canny low threshold should be greater equal 0"),u.a(e<=1,"Canny high threshold should be less equal 1"),new a.a("ImageCannyEdgesHysteresis").Input("tSrc",t.dtype).Output(t.dtype).LoadChunk("pickValue").Uniform("uSize","float",1).Uniform("uThresholdLow","float",n).Uniform("uThresholdHigh","float",e).GLSLKernel(s.a).Compile({tSrc:t})}((n=t,new a.a("ImageCannyEdgesNMS").Input("tSrc",n.dtype).Output(n.dtype).LoadChunk("pickValue").Uniform("uSize","float",1).Constant("PI",Math.PI).GLSLKernel(i.a).Compile({tSrc:n})),e,r)}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\n#define STROKE uSize\n\nvec4 operation(float y, float x) {\n  vec4 M = pickValue_tSrc(y, x);\n  float N = pickValue_tSrc(y + STROKE, x).r;\n  float S = pickValue_tSrc(y - STROKE, x).r;\n  float W = pickValue_tSrc(y, x - STROKE).r;\n  float E = pickValue_tSrc(y, x + STROKE).r;\n\n  float SE = pickValue_tSrc(y - STROKE, x + STROKE).r;\n  float NW = pickValue_tSrc(y + STROKE, x - STROKE).r;\n\n  float NE = pickValue_tSrc(y + STROKE, x + STROKE).r;\n  float SW = pickValue_tSrc(y - STROKE, x - STROKE).r;\n  float H = 0.0;\n\n  float V = M.r;\n  float dx = M.g;\n  float dy = M.b;\n\n  float theta = atan(dy / dx);\n  float deg = theta * (180.0 / PI);\n  float angle = 0.0;\n\n  if (deg < 0.0) {\n    deg = 180.0 + deg;\n  }\n\n  if (deg < 22.5 || deg >= 157.5) {\n    // 0 deg\n    if (V > W && V > E) {\n      H += 1.0;\n    }\n  }\n\n  if (deg < 67.5 && deg >= 22.5) {\n    // 45 deg\n    if (V > SW && V > NE) {\n      H += 1.0;\n    }\n  }\n\n  if (deg < 112.5 && deg >= 67.5) {\n    // 90 deg\n    if (V > N && V > S) {\n      H += 1.0;\n    }\n  }\n\n  if (deg < 157.5 && deg >= 112.5) {\n    // 135 deg\n    if (V > NW && V > SE) {\n      H += 1.0;\n    }\n  }\n\n  if (H == 1.0) {\n    return vec4(V, V, V, 255);\n  } else {\n    return vec4(0, 0, 0, 255);\n  }\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\n#define STROKE uSize\n\nvec4 operation(float y, float x) {\n  vec4 M = pickValue_tSrc(y, x);\n  float N = pickValue_tSrc(y + STROKE, x).r;\n  float S = pickValue_tSrc(y - STROKE, x).r;\n  float W = pickValue_tSrc(y, x - STROKE).r;\n  float E = pickValue_tSrc(y, x + STROKE).r;\n\n  float SE = pickValue_tSrc(y - STROKE, x + STROKE).r;\n  float NW = pickValue_tSrc(y + STROKE, x - STROKE).r;\n\n  float NE = pickValue_tSrc(y + STROKE, x + STROKE).r;\n  float SW = pickValue_tSrc(y - STROKE, x - STROKE).r;\n  float V = M.r;\n  float H = 0.0;\n\n  if (V > uThresholdHigh) {\n    H += 1.0;\n  }\n\n  if (V > uThresholdLow && V < uThresholdHigh) {\n    if (\n      N > 0.0 ||\n      S > 0.0 ||\n      W > 0.0 ||\n      E > 0.0 ||\n      SE > 0.0 ||\n      NW > 0.0 ||\n      NE > 0.0 ||\n      SW > 0.0\n    ) {\n      H += 1.0;\n    }\n  }\n\n  if (H == 1.0) {\n    return vec4(255, 255, 255, 255);\n  } else {\n    return vec4(0, 0, 0, 255);\n  }\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(86),i=e(393),o=e.n(i),s=e(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return s.a("uint8"===t.dtype,"Color Segmentation currently available for uint8 image input"),s.a(n>1,"Number of clusters should be greater than 1"),new a.a("ImageColorSegmentation").Input("tSrc","uint8").Input("tCentroids","uint8").Output("uint8").LoadChunk("pickValue").Constant("CLUSTERS",n).GLSLKernel(o.a).PreCompile(function(t){var e=~~(256/n);t.centroids=new r.a("uint8",[n,1,4]);for(var a=0;a<n;a+=1)t.centroids.set(a,0,0,a*e);t.assignInput("tCentroids",t.centroids)}).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst float _step = 1.0 / CLUSTERS;\n\nvec4 operation(float y, float x) {\n  float minDistance = 256.0;\n  float label = 0.0;\n  vec3 value = pickValue_tSrc(y, x).rgb;\n\n  for (int i = 0; i < int(CLUSTERS); i += 1) {\n    vec3 curr = pickValue_tCentroids(float(i), 0.0).rgb;\n    float distance = sqrt(((value.r - curr.r) * (value.r - curr.r)));\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      label = float(i) / CLUSTERS;\n    }\n  }\n\n  return vec4(label, label, label, 1.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\nconst int w = int(WIDTH);\nconst int h = int(HEIGHT);\n\nvec4 operation(float gly, float glx) {\n float size = KY * KX;\n float mean = 0.0;\n float std = 0.0;\n\n vec3 color = vec3(0.0, 0.0, 0.0);\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      vec3 value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x)).rgb;\n      color += value.rgb;\n    }\n  }\n\n  color /= size;\n\n  mean = color.r;\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      vec3 value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x)).rgb;\n      std += (value.r - mean) * (value.r - mean);\n    }\n  }\n\n  std /= size;\n  std = sqrt(std);\n\n  if (std == 0.0) {\n    std = 1.0;\n  }\n\n  return vec4(color, 255.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\nconst int w = int(WIDTH);\nconst int h = int(HEIGHT);\n\nvec4 operation(float gly, float glx) {\n float size = KX * KY;\n\n vec3 std = vec3(0.0, 0.0, 0.0);\n vec3 mean = pickValue_tMean(0.0, 0.0).rgb;\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      vec3 value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x)).rgb;\n      std += (value - mean) * (value - mean);\n    }\n  }\n\n  std /= size;\n  std = sqrt(std);\n\n  if (std.r == 0.0) {\n    std.r = 255.0;\n  }\n\n  if (std.g == 0.0) {\n    std.g = 255.0;\n  }\n\n  if (std.b == 0.0) {\n    std.b = 255.0;\n  }\n\n  return vec4(std, 255.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\nconst int w = int(WIDTH);\nconst int h = int(HEIGHT);\n\nvec4 operation(float gly, float glx) {\n float size = KX * KY;\n\n vec3 std = vec3(0.0, 0.0, 0.0);\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      vec3 mstd = pickValue_tStd(gly * KY + float(y), glx * KX + float(x)).rgb;\n      std += mstd * mstd;\n    }\n  }\n\n  std /= size;\n  std = sqrt(std);\n\n  if (std.r == 0.0) {\n    std.r = 255.0;\n  }\n\n  if (std.g == 0.0) {\n    std.g = 255.0;\n  }\n\n  if (std.b == 0.0) {\n    std.b = 255.0;\n  }\n\n  return vec4(std, 255.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float gly, float glx) {\n if (gly == 0.0) {\n    return texture2D(tMean, vec2(0, 0));\n } else {\n    return texture2D(tStd, vec2(0, 0));\n }\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\n\nprecision highp float;\n\nvec4 operation(float gly, float iglx) {\n  float size = KX * KY;\n  float glx = floor(iglx / COUNT);\n  float currentIndex = iglx - (glx * COUNT);\n\n  vec4 count = vec4(0.0);\n  vec4 ones = vec4(1.0);\n  vec4 twos = vec4(2.0);\n  vec4 currentIndex4 = vec4(currentIndex);\n  vec4 value;\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x));\n      vec4 index = floor((value - MIN) / STEP + 0.5);      \n\n      count += step(twos, ones / (abs(index - currentIndex4)));\n    }\n  }\n\n  return count;\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\n\nvec4 operation(float gly, float iglx) {\n  float size = KX * KY;\n  float glx = floor(iglx / COUNT);\n  float currentIndex = iglx - (glx * COUNT);\n\n  vec4 count = vec4(0.0);\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      count += pickValue_tSrc(gly * KY + float(y), (glx * KX + float(x)) * COUNT + currentIndex);\n    }\n  }\n\n  return count;\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\nconst float INF = 1.0 / 0.0;\nconst float h2 = OUT_VIEW.y / 2.0;\n\nvec4 operation(float igly, float glx) {\n  float size = KX * KY;\n  vec3 minV = vec3(INF);\n  vec3 maxV = vec3(-INF);\n  float gly = igly;\n\n  if (gly >= h2) {\n    gly -= h2;\n  }\n\n  for (int y = 0; y < ky * 2; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      vec3 value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x)).rgb;\n      minV = min(minV, value.rgb);\n      maxV = max(maxV, value.rgb);\n    }\n  }\n\n  if (igly < h2) {\n    return vec4(minV, 255.0);\n  } else {\n    return vec4(maxV, 255.0);\n  }\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int kx = int(KX);\nconst int ky = int(KY);\nconst float INF = 1.0 / 0.0;\nconst float h2 = OUT_VIEW.y / 2.0;\n\nvec4 operation(float gly, float glx) {\n float size = KX * KY;\n\n vec3 minV = vec3(INF);\n vec3 maxV = vec3(-INF);\n vec3 value;\n\n  for (int y = 0; y < ky; y += 1) {\n    for (int x = 0; x < kx; x += 1) {\n      value = pickValue_tSrc(gly * KY + float(y), glx * KX + float(x)).rgb;\n      minV = min(minV, value);\n      maxV = max(maxV, value);\n    }\n  }\n\n  if (gly < h2) {\n    return vec4(minV, 255.0);\n  }\n\n  return vec4(maxV, 255.0);\n}\n"},function(t,n,e){"use strict";e(61);var a=e(403);e.n(a),e(62)},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 prev = pickValue_tPrev(y, x);\n  vec4 curr = pickValue_tCurr(y, x);\n\n  float v = sqrt(\n    (curr.x - prev.x) * (curr.x - prev.x) +\n    (curr.y - prev.y) * (curr.y - prev.y) +\n    (curr.w - prev.w) * (curr.w - prev.w)\n  );\n\n\n  // return vec4(v.rgb * 2.0, 1.0);\n\n  return vec4(v, v, v, 1.0);\n\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(405),i=e.n(r);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a.a("SkinTest").Input("tSrc",t.dtype).Output(t.dtype).Uniform("uRThreshold","float",n.uRThreshold||95).Uniform("uGThreshold","float",n.uGThreshold||40).Uniform("uBThreshold","float",n.uBThreshold||20).Uniform("uRtoMinDiffThreshold","float",n.uRtoMinDiffThreshold||15).Uniform("uRtoGDiffThreshold","float",n.uRtoGDiffThreshold||15).LoadChunk("pickValue").GLSLKernel(i.a).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 col = pickValue_tSrc(y, x) * 255.0;\n  float res = 0.0;\n\n  if ((col.r > uRThreshold) && (col.g > uGThreshold) && (col.b > uBThreshold)\n      && (col.r > col.g) && (col.r > col.b)\n      && (col.r - min(col.g, col.b) > uRtoMinDiffThreshold)\n      && (abs(col.r - col.g) > uRtoGDiffThreshold)) {\n    res = 1.0;\n  }\n\n  return vec4(res, 0.0, 0.0, 1.0);\n}\n"},function(t,n,e){"use strict";e(61),e(119);var a=e(407),r=(e.n(a),e(408));e.n(r)},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float gly, float glx) {\n  float x;\n  float y;\n\n  if (SWAP_COORDS) {\n    x = gly;\n    y = glx;\n  } else {\n    x = glx;\n    y = gly;\n  }\n\n  float _sy = floor(x / SX);\n  float _sx = x - (_sy * SX);\n\n  float _y = floor(y / WIN_SIZE_X);\n  float _x = y - (_y * WIN_SIZE_X);\n\n\treturn pickValue_tSrc(_sy * STRIDE_Y + _y, _sx * STRIDE_X + _x);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\n#define WIN_LENGTH WIN_SIZE_X * WIN_SIZE_Y\n\nvec4 operation(float gly, float glx) {\n  float i;\n\n  if (SWAP_COORDS) {\n    i = gly;\n  } else {\n    i = glx;\n  }\n\n  float x = floor(i / WIN_LENGTH);\n  float y = i - x * WIN_LENGTH;\n\n  float _sy = floor(x / SX);\n  float _sx = x - (_sy * SX);\n\n  float _y = floor(y / WIN_SIZE_X);\n  float _x = y - (_y * WIN_SIZE_X);\n\n\treturn pickValue_tSrc(_sy * STRIDE_Y + _y, _sx * STRIDE_X + _x);\n}\n"},function(t,n,e){"use strict";e(61);var a=e(410);e.n(a)},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 findForAngle(float theta, bool invert, float gly, float glx) {\n  const float thetaTreshold = PI / 6.0;\n  float PER_STEP = (uStrokeMax - uStrokeMin) / STEPS;\n  if (invert) {\n    theta += PI;\n  }\n\n  float sn = sin(theta);\n  float cs = cos(theta);\n  float tx = cs * PER_STEP;\n  float ty = sn * PER_STEP;\n  float minX = cs * uStrokeMin;\n  float minY = sn * uStrokeMin;\n\n  float strokeWidth = 0.0;\n  int intersect = 0;\n  int cx = 0;\n  int cy = 0;\n\n  for (int i = int(STEPS); i > 0; i -= 1) {\n    int nx = int(glx + minX + tx * float(i));\n    int ny = int(gly + minY + ty * float(i));\n    float dist = sqrt(float((nx - int(glx)) * (nx - int(glx))) + float((ny - int(gly)) * (ny - int(gly))));\n    float cannyValue = pickValue_tCanny(float(ny), float(nx)).r;\n\n    vec4 sobelValue = pickValue_tSobel(float(ny), float(nx));\n    float theta2 = atan(sobelValue.b, sobelValue.g);\n\n    if (invert) {\n      theta2 += PI;\n    }\n\n    if (\n      cannyValue > 0.0\n      && dist > uStrokeMin\n      && dist < uStrokeMax\n      && abs(abs(theta - theta2) - PI) < thetaTreshold\n    ) {\n      strokeWidth = dist;\n      cx = nx;\n      cy = ny;\n    }\n  }\n\n  return vec4(strokeWidth, cx, cy, theta);\n}\n\nvec4 operation(float _y, float _x) {\n  vec4 sobel = pickValue_tSobel(_y, _x);\n  vec4 canny = pickValue_tCanny(_y, _x);\n\n  float dx = sobel.g;\n  float dy = sobel.b;\n  float _theta = atan(dy, dx);\n\n  vec4 result = findForAngle(_theta, INVERT > 0.0, _y, _x);\n\n  float strokeWidth = result.r;\n  int cx = int(result.g);\n  int cy = int(result.b);\n  float theta = result.a;\n\n  float a = float(cx) - _x;\n  float b = float(cy) - _y;\n\n  if (C > 0.0) {\n    if (canny.r > 0.0 && cx > 0 && cy > 0) {\n     return vec4(strokeWidth, theta, int(cx), int(cy));\n   } else {\n     return vec4(0, 0, 0, 0);\n   }\n  }\n  if (canny.r > 0.0 && cx > 0 && cy > 0) {\n    return vec4(strokeWidth, theta, 0, 1.0);\n  } else {\n    return vec4(0, 0, 0, 0);\n  }\n}\n"},function(t,n,e){"use strict";e(61);var a=e(412);e.n(a),e(62)},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 chanels1 = pickValue_tA(y, x);\n  vec4 chanels2 = pickValue_tB(y, x);\n\n\treturn RESULT;\n}"},function(t,n,e){"use strict";var a=e(61),r=e(198),i=e(200),o=e(414),s=e.n(o),u=e(415),c=e.n(u),l=e(62);n.a=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;l.a("l2"===n||"minmax"===n,"Unsupported type of normalization operation.\n     Currently availiable max and visualize.");var o=null;return"l2"===n&&(o=function(t,n){return new a.a("l2Norm").Input("tSrc","uint8").Input("tStdMean","uint8").Output("uint8").LoadChunk("pickValue").GLSLKernel(s.a).Compile({tSrc:t,tStdMean:n})}(t,Object(r.a)(t,e))),"minmax"===n&&(o=function(t,n){return new a.a("minMaxNorm").Input("tSrc","uint8").Input("tMinMax","uint8").Output("uint8").LoadChunk("pickValue").GLSLKernel(c.a).Compile({tSrc:t,tMinMax:n})}(t,Object(i.a)(t,e))),o}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec3 chanels = pickValue_tSrc(y, x).rgb;\n  vec3 mean = pickValue_tStdMean(0.0, 0.0).rgb;\n  vec3 std = pickValue_tStdMean(1.0, 0.0).rgb;\n  vec3 value = (chanels - mean) / std;\n\n\treturn vec4(value, 1.0);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec3 chanels = pickValue_tSrc(y, x).rgb;\n  vec3 minV = pickValue_tMinMax(0.0, 0.0).rgb;\n  vec3 maxV = pickValue_tMinMax(1.0, 0.0).rgb;\n  vec3 value = (chanels - minV) / (maxV - minV);\n\n\treturn vec4(value, 1.0);\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(199),i=e(417),o=e.n(i),s=e(418),u=e.n(s);n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return function(t,n){return new a.a("histogramEqualization").Input("tSrc","uint8").Input("tHist","float32").Output("uint8").LoadChunk("pickValue").GLSLKernel(o.a).Compile({tSrc:t,tHist:n})}(t,function(t){return new a.a("histogramCumulation").Input("tSrc","float32").Output("float32").LoadChunk("pickValue").GLSLKernel(u.a).Compile({tSrc:t})}(Object(r.a)(t,n)))}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst float norm = 1.0 / (OUT_VIEW.x * OUT_VIEW.y);\n\nvec4 operation(float y, float x) {\n  vec4 histBase = pickValue_tSrc(y, x) * 255.0;\n  float r = pickValue_tHist(0.0, histBase.r).r;\n  float g = pickValue_tHist(0.0, histBase.g).g;\n  float b = pickValue_tHist(0.0, histBase.b).b;\n  float a = pickValue_tHist(0.0, histBase.a).a;\n\n\treturn vec4(r, g, b, 255.0 / norm) * norm;\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 sum = vec4(0.0);\n\n  for (float i = 0.0; i < 255.0; i += 1.0) {\n    vec4 value = pickValue_tSrc(0.0, i);\n\n    if (i <= x) {\n      sum += value;\n    } else {\n      break;\n    }\n  }\n\n\treturn sum;\n}\n"},function(t,n,e){"use strict";e(61);var a=e(420);e.n(a)},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 getPoint(vec2 p) {\n  return pickValue_tSrc(p.y, p.x);\n}\n\nmat3 getTransformMatrix() {\n  vec3 r1 = pickValue_tTransform(0.0, 0.0).rgb;\n  vec3 r2 = pickValue_tTransform(1.0, 0.0).rgb;\n  vec3 r3 = pickValue_tTransform(3.0, 0.0).rgb;\n\n  return mat3(\n    r1,\n    r2,\n    r3\n  );\n}\n\nvec4 operation(float y, float x) {\n  mat3 m = getTransformMatrix();\n\n  float off=0.0;\n  float ixs=0.0;\n  float iys=0.0;\n  float xs=0.0;\n  float ys=0.0;\n  float xs0=0.0;\n  float ys0=0.0;\n  float ws=0.0;\n  float sc=0.0;\n  float a=0.0;\n  float b=0.0;\n\n  xs0 = m[0][1] * y + m[0][2];\n  ys0 = m[1][1] * y + m[1][2];\n  ws  = m[2][1] * y + m[2][2];\n\n  xs0 += m[0][0] * x;\n  ys0 += m[1][0] * x;\n  ws += m[2][0] * x;\n\n\n  sc = 1.0 / ws;\n  xs = xs0 * sc;\n  ys = ys0 * sc;\n  ixs = xs;\n  iys = ys;\n\n  a = max(xs - ixs, 0.0);\n  b = max(ys - iys, 0.0);\n\n  vec2 mvec = vec2(ixs, iys);\n  vec2 ox = vec2(1.0, 0.0);\n  vec2 oy = vec2(1.0, 1.0);\n\n  vec4 p0 = getPoint(mvec) + a * (getPoint(mvec + ox) - getPoint(mvec));\n  vec4 p1 = getPoint(mvec + oy) + a * (getPoint(mvec + ox + oy) - getPoint(mvec + oy));\n  vec4 pres = p0 + b * (p1 - p0);\n\n  return pres;\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(422),i=e.n(r),o=e(423),s=(e.n(o),e(424)),u=e.n(s),c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=~~(t.shape[0]/n),i=~~(t.shape[1]/n),o=Math.ceil(Math.max(t.shape[0]/r,t.shape[1]/i));return new a.a("ReduceMax").Input("tSrc",e?"float32":"uint8").Output("float32").Uniform("uF","float",e).LoadChunk("pickValue").Constant("W",o).Constant("H",o).Constant("O_WIDTH",t.shape[1]).Constant("O_HEIGHT",t.shape[0]).Constant("K",1/o).SetShapeFn(function(){return[Math.ceil(t.shape[0]/o),Math.ceil(t.shape[1]/o),4]}).GLSLKernel(u.a).Compile({tSrc:t})};n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.max(t.shape[0],t.shape[1]);return new a.a("PCLinesTransform").Input("tSrc","float32").Output("uint8").Uniform("uWidth","float",t.shape[1]).Uniform("uHeight","float",t.shape[0]).Constant("PI",Math.PI).Constant("D",e).Constant("STEP",n).Constant("MAX_DIST",e).Constant("MAX_ANGLE",e).LoadChunk("pickValue").SetShapeFn(function(){return[e,e,4]}).GLSLKernel(i.a).Compile({tSrc:t})}(t,e);o=c(o,r);for(var s=0;s<n;s+=1)o=c(o,r,1);return o}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nprecision highp float;\n\nfloat intersectionX(vec4 line, float x) {\n  return ((x - line.x) / (line.z - line.x) * (line.w - line.y) + line.y);\n}\n\nfloat intersectionY(vec4 line, float y) {\n  return ((y - line.y) / (line.w - line.y) * (line.z - line.x) + line.x);\n}\n\nvec4 findSide(float x1, float y1, float x2, float y2) {\n  int i = 0;\n  vec2 i0 = vec2(0, 0);\n  vec2 i1 = vec2(0, 0);\n\n  float ax = 0.0;\n  float ay = intersectionY(vec4(x1, y1, x2, y2), ax);\n\n  float by = 0.0;\n  float bx = intersectionX(vec4(x1, y1, x2, y2), by);\n\n  float cx = MAX_DIST;\n  float cy = intersectionY(vec4(x1, y1, x2, y2), cx);\n\n  float dy = MAX_DIST;\n  float dx = intersectionX(vec4(x1, y1, x2, y2), dy);\n\n  if (ay <= MAX_DIST && ay >= 0.0) {\n    if (i == 0) {\n      i0 = vec2(ax, ay);\n      i += 1;\n    }\n  }\n\n  if (cy <= MAX_DIST && cy >= 0.0) {\n    if (i == 0) {\n      i0 = vec2(cx, cy);\n      i += 1;\n    } else {\n      i1 = vec2(cx, cy);\n    }\n  }\n\n  if (bx <= MAX_DIST && bx >= 0.0) {\n    if (i == 0) {\n      i0 = vec2(bx, by);\n      i += 1;\n    } else {\n      i1 = vec2(bx, by);\n    }\n  }\n\n  if (dx <= MAX_DIST && dx >= 0.0) {\n    if (i == 0) {\n      i0 = vec2(dx, dy);\n      i += 1;\n    } else {\n      i1 = vec2(dx, dy);\n    }\n  }\n\n  return vec4(i0.x, i0.y, i1.x, i1.y);\n}\n\nfloat pow(float a) {\n  return a * a;\n}\n\nvec4 getStraight(float aIndex, float v, float dist, float angles) {\n  float y1;\n  float y2;\n  if (aIndex > angles) {\n    aIndex -= angles;\n    y1 = MAX_ANGLE - (angles * v / aIndex);\n    y2 = (-1.0 + angles / aIndex) * uWidth + y1;\n  } else {\n    aIndex = angles - aIndex;\n    y1 = (angles * v / aIndex);\n    y2 = (1.0 - angles / aIndex) * uWidth + y1;\n  }\n\n  return vec4(0.0, y1, uWidth, y2);\n}\n\nfloat getValue(float i, float lx, float ly, vec4 side) {\n  float xx = 0.0;\n  float yy = 0.0;\n\n  if (lx < ly) {\n    xx = i;\n    yy = intersectionY(side, xx);\n  } else {\n    yy = i;\n    xx = intersectionX(side, yy);\n  }\n\n  if (xx > 0.0 && xx < uWidth && yy > 0.0 && yy < uHeight) {\n    float a = pickScalarValue_tSrc(floor(yy), floor(xx));\n\n    if (a > 0.0) {\n      return 1.0;\n    }\n  }\n\n  return 0.0;\n}\n\nvec4 operation(float y, float x) {\n  float v_out = 0.0;\n\n  vec4 straight = getStraight(x, y, MAX_DIST, MAX_ANGLE / 2.0);\n  vec4 side = findSide(straight.x, straight.y, straight.z, straight.w);\n\n  float lx = abs(side.z - side.x);\n  float ly = abs(side.w - side.y);\n  float k = 1.0 / D;\n\n  for (float i = 0.0; i <= D; i += STEP) {\n    float a = getValue(i, lx, ly, side);\n\n    if (a > 0.0) {\n      v_out += k;\n    }\n  }\n\n  return vec4(v_out, v_out, v_out, 255.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\n#define X_STEPS 10.0\n#define Y_STEPS 10.0\n\nvec4 operation(float y, float x) {\n  float value = pickValue_tSrc(y, x).r;\n  float c = value * value;\n  float sum = 0.0;\n\n  for (float j = 0.0; j < Y_STEPS; j += 1.0) {\n    for (float i = 0.0; i < X_STEPS; i += 1.0) {\n      sum += pickValue_tSrc((y - Y_STEPS / 2.0) + j, (x - X_STEPS / 2.0) + i).r;\n    }\n  }\n  float v = (c / sum) * X_STEPS * Y_STEPS;\n\n  return vec4(v, v, v, 1);\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int w = int(W);\nconst int h = int(H);\n\nvec4 operation(float _y, float _x) {\n  float mmax = 0.0;\n  float maxX = 0.0;\n  float maxY = 0.0;\n  float sy = _y * H;\n  float sx = _x * W;\n  float yLimit = O_HEIGHT - sy;\n  float xLimit = O_WIDTH - sx;\n  vec4 value;\n\n  for (float y = 0.0; y < H; y += 1.0) {\n    if (y >= yLimit) {\n      break;\n    }\n    for (float x = 0.0; x < W; x += 1.0) {\n      if (x >= xLimit) {\n        break;\n      }\n      value = pickValue_tSrc(y + sy, x + sx);\n\n      if (value.r >= mmax) {\n        mmax = value.r;\n\n        if (uF < 0.5) {\n          maxX = x + sx;\n          maxY = y + sy;\n        } else {\n          maxX = value.g;\n          maxY = value.b;\n        }\n      }\n    }\n  }\n\n  return vec4(mmax, maxX, maxY, 255.0);\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(426),i=e.n(r),o=e(427),s=e.n(o),u=e(62);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb_to_hsv";u.a("rgb_to_hsv"===n||"hsv_to_rgb"===n,"Unsupported type "+n+", currenlty avaliable: rgb_to_hsv, hsv_to_rgb.");var e=null;return"rgb_to_hsv"===n&&(e=i.a),"hsv_to_rgb"===n&&(e=s.a),new a.a("HSV").Input("tSrc",t.dtype).Output(t.dtype).LoadChunk("pickValue").GLSLKernel(e).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec4 operation(float y, float x) {\n  return vec4(rgb2hsv(pickValue_tSrc(y, x).rgb), 1);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec4 operation(float y, float x) {\n  return vec4(hsv2rgb(pickValue_tSrc(y, x).rgb), 1);\n}"},function(t,n,e){"use strict";var a=e(61),r=e(62),i=e(429),o=e.n(i);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r.a("number"==typeof n,"Only number available as a threshold value."),r.a(0===e||1===e||2===e||3===e,"Only RGBA available: 0, 1, 2, 3"),new a.a("Threshold").Input("tSrc",t.dtype).Output(t.dtype).Constant("C",e).Uniform("uT","float",n).LoadChunk("pickValue").GLSLKernel(o.a).Compile({tSrc:t})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n\tvec4 pixel = pickValue_tSrc(y, x);\n\n\tif (pixel[int(C)] > uT) {\n\t\treturn vec4(1.0, 1.0, 1.0, 1.0);\n\t} else {\n\t\treturn vec4(0.0, 0.0, 0.0, 1.0);\n\t}\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\n\nfloat HKW = floor(KW / 2.0);\nfloat HKH = floor(KW / 2.0);\n\nvec4 operation(float y, float x) {\n  float R = 10000.0;\n  float G = 10000.0;\n  float B = 10000.0;\n\n  y = y + HKH;\n  x = x + HKW;\n\n  for (float dx = 0.0; dx < KW; dx += 1.0) {\n    for (float dy = 0.0; dy < KH; dy += 1.0) {\n      vec4 v = pickValue_tSrc((y - dy), (x - dx));\n      vec4 m = pickValue_tKernel(dy, dx);\n\n      if (v.r < R && m.r > 0.0) {\n        R = v.r;\n      }\n\n      if (v.g < G && m.g > 0.0) {\n        G = v.g;\n      }\n\n      if (v.b < B && m.b > 0.0) {\n        B = v.b;\n      }\n    }\n  }\n\n\treturn vec4(R, G, B, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nfloat HKW = floor(KW / 2.0);\nfloat HKH = floor(KW / 2.0);\n\nvec4 operation(float y, float x) {\n  float R = 0.0;\n  float G = 0.0;\n  float B = 0.0;\n\n  y = y + HKH;\n  x = x + HKW;\n \n  for (float dx = 0.0; dx < KW; dx += 1.0) {\n    for (float dy = 0.0; dy < KH; dy += 1.0) {\n      vec4 v = pickValue_tSrc((y - dy), (x - dx));\n      vec4 m = pickValue_tKernel(dy, dx);\n\n      if (v.r > R && m.r > 0.0) {\n        R = v.r;\n      }\n\n      if (v.g > G && m.g > 0.0) {\n        G = v.g;\n      }\n\n      if (v.b > B && m.b > 0.0) {\n        B = v.b;\n      }\n    }\n  }\n\n\treturn vec4(R, G, B, 1.0);\n}\n"},function(t,n,e){"use strict";var a=e(201),r=e(202),i=e(203);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[2,2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(n){case"open":return Object(r.a)(Object(a.a)(t,e,o),e,o);case"close":return Object(a.a)(Object(r.a)(t,e,o),e,o);case"gradient":return Object(i.g)(Object(r.a)(t,e,o),Object(a.a)(t,e,o));case"tophat":return Object(i.g)(t,Object(r.a)(Object(a.a)(t,e,o),e,o));case"blackhat":return Object(i.g)(Object(a.a)(Object(r.a)(t,e,o),e,o),t);default:return Error("MorphTransform: unsopported operation type "+n)}}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n  vec4 B = pickValue_tB(y, x);\n\n\treturn vec4(A.rgb - B.rgb, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n  vec4 B = pickValue_tB(y, x);\n\n\treturn vec4(A.rgb + B.rgb, 1.0);\n}"},function(t,n){t.exports="\n/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n  vec4 B = pickValue_tB(y, x);\n\n\treturn vec4(A.rgb * B.rgb, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n  vec4 B = pickValue_tB(y, x);\n\n\treturn vec4(A.rgb / B.rgb, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n\n\treturn vec4(A.rgb - uScalar, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n\n\treturn vec4(A.rgb + uScalar, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n\n\treturn vec4(A.rgb * uScalar, 1.0);\n}"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 A = pickValue_tA(y, x);\n\n\treturn vec4(A.rgb / uScalar, 1.0);\n}"},function(t,n,e){"use strict";var a=e(150);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=~~(t.shape[1]*n),i=~~(t.shape[0]*n);return Object(a.a)(t,r,i,e)}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 res = pickValue_tSrc(y, x);\n\n  for (float I = 1.0; I <= SAMPLES_PER_PASS; I += 1.0) {\n    float cx = x - ceil(pow(1.0 + SAMPLES_PER_PASS, PASSI) * I);\n\n    if (cx < 0.0) {\n      break;\n    }\n\n    res += pickValue_tSrc(y, cx);\n  }\n\n  return res;\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 res = pickValue_tSrc(y, x);\n  res = res * res;\n  vec4 v = vec4(0.0);\n\n  for (float I = 1.0; I <= SAMPLES_PER_PASS; I += 1.0) {\n    float cx = x - ceil(pow(1.0 + SAMPLES_PER_PASS, PASSI) * I);\n\n    if (cx < 0.0) {\n      break;\n    }\n\n    v = pickValue_tSrc(y, cx);\n    res += v * v;\n  }\n\n  return res;\n}\n"},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nvec4 operation(float y, float x) {\n  vec4 res = pickValue_tSrc(y, x);\n\n  for (float I = 1.0; I <= SAMPLES_PER_PASS; I += 1.0) {\n    float cy = y - ceil(pow(1.0 + SAMPLES_PER_PASS, PASSI) * I);\n\n    if (cy < 0.0) {\n      break;\n    }\n\n    res += pickValue_tSrc(cy, x);\n  }\n\n  return res;\n}\n"},function(t,n,e){"use strict";var a=e(61),r=e(62),i=e(204),o=e(446),s=e.n(o);
/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object(i.a)(t);return r.a("number"==typeof e,"Only number available as a threshold value."),r.a("number"==typeof n,"Only number available as a size value."),r.a(0===o||1===o||2===o||3===o,"Only RGBA available: 0, 1, 2, 3"),new a.a("Threshold").Input("tSrc",t.dtype).Input("tIntegralImage",u.dtype).Output(t.dtype).Constant("C",o).Uniform("uS","float",n).Uniform("uT","float",e).LoadChunk("pickValue").GLSLKernel(s.a).Compile({tSrc:t,tIntegralImage:u})}},function(t,n){t.exports="/**\n * @license MIT\n * @author Arkadiy Pilguk(apilguk@gmail.com)\n * @author Mihail Zachepilo(mihailzachepilo@gmail.com)\n * Copyright 2018 Peculiar Ventures and Pentatonica.\n * All rights reserved.\n */\n\nconst int Channel = int(C);\n\nfloat pickValue(float y, float x) {\n\tif (y < 0.0 || x < 0.0) {\n\t\treturn 0.0;\n\t}\n\n\treturn pickValue_tIntegralImage(y, x)[Channel];\n}\n\nvec4 operation(float y, float x) {\n\tvec4 pixel = pickValue_tSrc(y, x);\n\tfloat huS = uS / 2.0;\n\t\n\tvec2 p1 = max(floor(vec2(x, y) - huS), vec2(0.0));\n\tvec2 p2 = min(floor(vec2(x, y) + huS), OUT_VIEW - 1.0);\n\tvec2 pd = p2 + 1.0 - p1;\n\tfloat s = pd.x * pd.y;\n\tp1 -= 1.0;\n\tfloat sum = pickValue(p2.y, p2.x)\n\t\t- pickValue(p1.y, p2.x)\n\t\t- pickValue(p2.y, p1.x)\n\t\t+ pickValue(p1.y, p1.x);\n\n\tif (pixel[Channel] * s <= sum * (100.0 - uT)/ 100.0) {\n\t\treturn vec4(0.0, 0.0, 0.0, 1.0);\t\n\t} else {\n\t\treturn vec4(1.0, 1.0, 1.0, 1.0);\n\t}\n}"},function(t,n,e){"use strict";var a=e(205);e.d(n,"a",function(){return a.a}),e(448),e(449),e(206)},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72),o=e.n(i),s=e(206),u=e(205),c=function(){function t(){r()(this,t);for(var n=arguments.length,e=Array(n),a=0;a<n;a++)e[a]=arguments[a];e[0]instanceof ArrayBuffer?this.data=new Float32Array(e[0],e[1],t.NUM_ELEMENTS):Array.isArray(e[0])?this.data=new Float32Array(e[0]):e[0]&&e.length===t.NUM_ELEMENTS?this.data=new Float32Array(e):this.data=new Float32Array(t.NUM_ELEMENTS)}return o()(t,null,[{key:"Distance",value:function(t,n){for(var e=0,a=0;a<8;a+=2){var r=Math.sqrt(Math.pow(t.data[a]-n.data[a],2)+Math.pow(t.data[a+1]-n.data[a+1],2));e+=Math.pow(r,2)}return(e=Math.sqrt(e/8))===1/0?0:e}},{key:"TriangleS",value:function(t,n,e,a,r,i){return Math.abs(t*(a-i)+e*(i-n)+r*(n-a))/2}}]),o()(t,[{key:"isInRect",value:function(n,e){return!(t.TriangleS(n,e,this.ax,this.ay,this.bx,this.by)+t.TriangleS(n,e,this.cx,this.cy,this.bx,this.by)+t.TriangleS(this.cx,this.cy,n,e,this.dx,this.dy)+t.TriangleS(this.dx,this.dy,n,e,this.ax,this.ay)-this.area>0)}},{key:"isNotEmpty",value:function(){return this.data[0]>0&&this.data[1]>0&&this.data[2]>0&&this.data[3]>0&&this.data[4]>0&&this.data[5]>0&&this.data[6]>0&&this.data[7]>0}},{key:"clone",value:function(){return new t(this.toArray())}},{key:"set",value:function(t,n,e,a,r,i,o,s){this.data[0]=t,this.data[1]=n,this.data[2]=e,this.data[3]=a,this.data[4]=r,this.data[5]=i,this.data[6]=o,this.data[7]=s}},{key:"assign",value:function(t){return this.data.set(t.data),this}},{key:"scale",value:function(t,n){return this.data[0]*=t,this.data[1]*=n,this.data[2]*=t,this.data[3]*=n,this.data[4]*=t,this.data[5]*=n,this.data[6]*=t,this.data[7]*=n,this}},{key:"fromLines",value:function(t,n,e,a){var r=Object(s.b)([u.a.Intersection(t,n),u.a.Intersection(n,e),u.a.Intersection(e,a),u.a.Intersection(a,t)]);return!!(r[0]&&r[1]&&r[2]&&r[3])&&(this.data[0]=r[0][0],this.data[1]=r[0][1],this.data[2]=r[1][0],this.data[3]=r[1][1],this.data[4]=r[2][0],this.data[5]=r[2][1],this.data[6]=r[3][0],this.data[7]=r[3][1],!0)}},{key:"mul",value:function(t){return this.data[0]*=t,this.data[1]*=t,this.data[2]*=t,this.data[3]*=t,this.data[4]*=t,this.data[5]*=t,this.data[6]*=t,this.data[7]*=t,this}},{key:"scaleAt",value:function(t){return this.data[0]-=t,this.data[1]-=t,this.data[2]-=t,this.data[3]+=t,this.data[4]+=t,this.data[5]+=t,this.data[6]+=t,this.data[7]-=t,this}},{key:"clear",value:function(){this.data[0]=0,this.data[1]=0,this.data[2]=0,this.data[3]=0,this.data[4]=0,this.data[5]=0,this.data[6]=0,this.data[7]=0}},{key:"fromDeep",value:function(t){return this.data[0]=t[0][0],this.data[1]=t[0][1],this.data[2]=t[1][0],this.data[3]=t[1][1],this.data[4]=t[2][0],this.data[5]=t[2][1],this.data[6]=t[3][0],this.data[7]=t[3][1],this}},{key:"perspective",value:function(t){var n=Object(s.c)(this.data[0],this.data[1],t),e=Object(s.c)(this.data[2],this.data[3],t),a=Object(s.c)(this.data[4],this.data[5],t),r=Object(s.c)(this.data[6],this.data[7],t);return this.data[0]=n[0],this.data[1]=n[1],this.data[2]=e[0],this.data[3]=e[1],this.data[4]=a[0],this.data[5]=a[1],this.data[6]=r[0],this.data[7]=r[1],this}},{key:"fromArray",value:function(t){return this.data.set(t),this}},{key:"toArray",value:function(){return Array.prototype.slice.call(this.data)}},{key:"isInside",value:function(t){return t.ax>this.ax&&t.ay>this.ay&&t.bx<this.bx&&t.by>this.by&&t.cx<this.cx&&t.cy<this.cy&&t.dx>this.dx&&t.dy<this.dy}},{key:"toJSON",value:function(){return this.toArray()}},{key:"ax",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"ay",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"bx",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"by",get:function(){return this.data[3]},set:function(t){this.data[3]=t}},{key:"cx",get:function(){return this.data[4]},set:function(t){this.data[4]=t}},{key:"cy",get:function(){return this.data[5]},set:function(t){this.data[5]=t}},{key:"dx",get:function(){return this.data[6]},set:function(t){this.data[6]=t}},{key:"dy",get:function(){return this.data[7]},set:function(t){this.data[7]=t}},{key:"distA",get:function(){return Math.sqrt(Math.pow(this.data[6]-this.data[0],2)+Math.pow(this.data[7]-this.data[1],2))}},{key:"distB",get:function(){return Math.sqrt(Math.pow(this.data[4]-this.data[2],2)+Math.pow(this.data[5]-this.data[3],2))}},{key:"distC",get:function(){return Math.sqrt(Math.pow(this.data[0]-this.data[2],2)+Math.pow(this.data[1]-this.data[3],2))}},{key:"distD",get:function(){return Math.sqrt(Math.pow(this.data[6]-this.data[4],2)+Math.pow(this.data[7]-this.data[5],2))}},{key:"distE",get:function(){return Math.sqrt(Math.pow(this.data[0]-this.data[4],2)+Math.pow(this.data[1]-this.data[5],2))}},{key:"distF",get:function(){return Math.sqrt(Math.pow(this.data[6]-this.data[2],2)+Math.pow(this.data[7]-this.data[3],2))}},{key:"angleA",get:function(){return Object(s.a)([this.data[6],this.data[7],this.data[0],this.data[1]],[this.data[0],this.data[1],this.data[2],this.data[3]])}},{key:"angleB",get:function(){return Object(s.a)([this.data[0],this.data[1],this.data[2],this.data[3]],[this.data[2],this.data[3],this.data[4],this.data[5]])}},{key:"angleC",get:function(){return Object(s.a)([this.data[2],this.data[3],this.data[4],this.data[5]],[this.data[4],this.data[5],this.data[6],this.data[7]])}},{key:"angleD",get:function(){return Object(s.a)([this.data[4],this.data[5],this.data[6],this.data[7]],[this.data[6],this.data[7],this.data[0],this.data[1]])}},{key:"area",get:function(){var t=this.distA,n=this.distB,e=this.distC,a=this.distD,r=(t+n+e+a)/2;return Math.sqrt((r-t)*(r-n)*(r-e)*(r-a))}},{key:"P",get:function(){return this.distA+this.distB+this.distC+this.distD}}]),t}();c.NUM_ELEMENTS=8,c.BYTES_PER_ELEMENT=c.NUM_ELEMENTS*Float32Array.BYTES_PER_ELEMENT},function(t,n,e){"use strict";var a=e(71),r=e.n(a),i=e(72);e.n(i)()(function t(n,e){r()(this,t),this.dataStore=new ArrayBuffer(e*n.BYTES_PER_ELEMENT),this.data=Array(e),this.size=e;for(var a=0;a<e;a+=1)this.data[a]=new n(this.dataStore,a*n.BYTES_PER_ELEMENT);this.length=0},[{key:"map",value:function(t,n){return this.data.map(t,n)}},{key:"push",value:function(t){if(!(this.length<this.size))throw Error("Typed Pool size exceed");this.data[this.length].data.set(t.data),this.length+=1}},{key:"at",value:function(t){if(t>=this.size)throw Error("Out of range requested");return this.data[t]}},{key:"release",value:function(t){if(this.length=0,t)for(var n=0;n<this.size;n+=1)this.data[n].clear()}}])},function(t,n,e){"use strict";var a=e(109),r=e.n(a),i=e(81),o=e.n(i),s=e(76),u=e.n(s),c=e(77),l=e.n(c),f=e(82),h=e.n(f),p=e(83),d=e.n(p),v=e(16),g=e.n(v),m=e(63),y=e.n(m),x=e(17),_=e.n(x),k=e(67),b=e(451),S=e(452),E=e(453),w=e.n(E),T=function(t){function n(){return u()(this,n),h()(this,(n.__proto__||o()(n)).apply(this,arguments))}return d()(n,t),l()(n,[{key:"componentDidUpdate",value:function(){"mobile"===this.context.device.type?this.refControl.style.opacity=1:this.refControl.style.opacity=null}},{key:"onMouseEnter",value:function(){this.refNode.style.opacity=.9,this.refControl.style.opacity=1}},{key:"onMouseLeave",value:function(){this.refNode.style.opacity=0,this.refControl.style.opacity=0}},{key:"render",value:function(){var t=this,e=this.context.device,a=this.props,i=a.playing,o=a.onStop,s=a.onPlay,u=a.width,c=a.height,l=a.canvas,f=a.exampleInitialized,h=a.loading;return g.a.createElement("div",{className:w.a.wrapper},g.a.createElement("div",{className:y()(r()({},w.a.padding,"mobile"!==e.type),"fill_light_grey")},g.a.createElement("div",{onMouseEnter:"mobile"!==e.type?this.onMouseEnter.bind(this):null,onMouseLeave:"mobile"!==e.type?this.onMouseLeave.bind(this):null,ref:function(n){t.refNode=n},className:y()(w.a.mask,"fill_black"),onClick:i?o:s}),g.a.createElement("div",{ref:function(n){t.refControl=n},className:w.a.controls},i&&"mobile"!==e.type&&g.a.createElement(S.a,{className:y()(w.a.icon,"fill_white")}),!i&&g.a.createElement(b.a,{className:y()(w.a.icon,"fill_white")})),!f||h&&g.a.createElement("div",{className:w.a.loader},g.a.createElement(k.b,{size:40})),g.a.createElement("canvas",{ref:l,width:u,height:c,className:w.a.canvas,style:n.getCanvasStyles(u,c,e.type)})))}}],[{key:"getCanvasStyles",value:function(t,n,e){var a=t/n;if("mobile"===e)return{width:"100%",height:"100%",top:"0"};if(a>1.3){var r=1.3/a*100;return{width:"100%",height:r+"%",top:(100-r)/2+"%"}}return{height:"100%",width:a/1.3*100+"%",top:"0"}}}]),n}(v.Component);T.propTypes={onStop:_.a.func,onPlay:_.a.func,playing:_.a.bool,loading:_.a.bool,exampleInitialized:_.a.bool,canvas:_.a.func,width:_.a.number,height:_.a.number},T.contextTypes={device:_.a.object},T.defaultProps={canvas:null,width:700,loading:null,onStop:function(){},onPlay:function(){},playing:null,exampleInitialized:null,height:500},n.a=T},function(t,n,e){"use strict";var a=e(68),r=e.n(a),i=e(16),o=e.n(i);n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 512 512"},t),o.a.createElement("path",{d:"M152.443 136.417L359.557 255.99 152.443 375.583z","data-fill":!0}))}},function(t,n,e){"use strict";var a=e(68),r=e.n(a),i=e(16),o=e.n(i);n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 512 512"},t),o.a.createElement("path",{d:"M162.642 148.337h56.034v215.317h-56.034V148.338zM293.356 148.337h56.002v215.317h-56.002V148.338z","data-fill":!0}))}},function(t,n,e){var a=e(454);"string"==typeof a&&(a=[[t.i,a,""]]),e(65)(a,{hmr:!0,transform:void 0}),a.locals&&(t.exports=a.locals)},function(t,n,e){(n=t.exports=e(64)(!1)).push([t.i,".wrapper_3h9dv{width:100%;min-width:400px}.padding_2UnD7{border:1px solid #f1f3f8;border-radius:8px;padding-bottom:76.8%;position:relative}.canvas_2rEWp{z-index:2}.canvas_2rEWp,.mask_3svgJ{position:absolute;top:0;left:0;border-radius:8px;width:100%;height:100%}.mask_3svgJ{cursor:pointer;z-index:3}.controls_2yWia,.mask_3svgJ{opacity:0;transition:opacity .3s}.controls_2yWia{pointer-events:none;position:absolute;top:50%;left:50%;width:100px;height:100px;transform:translate(-50%,-50%);z-index:5}.icon_rPb-V{width:100%}.loader_tSXs_{position:absolute;z-index:3;top:50%;width:40px;height:40px;left:50%;transform:translate(-50%,-50%)}@media (max-width:768px),(max-width:812px) and (max-height:375px){.wrapper_3h9dv{min-width:0}.padding_2UnD7{border:none;border-radius:0;padding-bottom:calc(100vh - 60px)}.canvas_2rEWp,.mask_3svgJ{border-radius:0}}",""]),n.locals={wrapper:"wrapper_3h9dv",padding:"padding_2UnD7",canvas:"canvas_2rEWp",mask:"mask_3svgJ",controls:"controls_2yWia",icon:"icon_rPb-V",loader:"loader_tSXs_"}},function(t,n,e){"use strict";var a=e(109),r=e.n(a),i=e(129),o=e.n(i),s=e(170),u=e.n(s),c=e(81),l=e.n(c),f=e(76),h=e.n(f),p=e(77),d=e.n(p),v=e(82),g=e.n(v),m=e(83),y=e.n(m),x=e(16),_=e.n(x),k=e(63),b=e.n(k),S=e(17),E=e.n(S),w=e(67),T=e(207),P=e(456),A=e(457),M=e(458),C=e(459),I=e.n(C),O=function(t){function n(t){h()(this,n);var e=g()(this,(n.__proto__||l()(n)).call(this,t));return e.state={stateData:e.props.stateData,dafaultParams:!0},e.defaultData=e.props.stateData,e.lazyUpdate=new T.a(1e3,e.props.onChangeParams.bind(e)),e}return y()(n,t),d()(n,[{key:"onSetDefault",value:function(){var t=this.props.onChangeParams,n=this.defaultData;this.setState({stateData:n,dafaultParams:!0},function(){return t(n,"constant")})}},{key:"onChange",value:function(t,n,e,a,r){var i=this.props.onChangeParams,o=u()(this.state.stateData),s=JSON.parse(o);s[t][n]=r,"constant"===e?this.lazyUpdate.activate(s,e,n,r):i(s,e,n,r),this.setState({stateData:s,dafaultParams:!1})}},{key:"renderIcon",value:function(t){return"constant"===t?_.a.createElement(P.a,{className:I.a.icon}):"uniform"===t?_.a.createElement(A.a,{className:I.a.icon}):null}},{key:"renderSelect",value:function(t,n,e,a){var r=this.state.stateData;return _.a.createElement(w.f,{className:I.a.tabs,onChange:this.onChange.bind(this,e,n,a),value:r[e][n]},t.values.map(function(t,n){return _.a.createElement(w.g,{key:n,value:t.value},t.name)}))}},{key:"renderControls",value:function(t,n,e,a){var r=this.state.stateData;return _.a.createElement("div",{key:e+"_"+a,className:I.a.group_item},this.renderIcon(t.type),_.a.createElement(w.j,{type:"b3",color:"dark_grey",className:I.a.group_item_name},t.name),t.values&&this.renderSelect(t,n,e,t.type),!t.values&&_.a.createElement(w.h,{color:"dark_grey",className:I.a.slider,step:t.step,min:t.min,max:t.max,value:r[e][n],onChange:this.onChange.bind(this,e,n,t.type),defaultValue:t.default}),_.a.createElement(w.j,{type:"h5",color:"dark_grey",align:"left",className:I.a.group_item_value},!t.values&&r[e][n]))}},{key:"renderGroup",value:function(t,n){var e=this;return _.a.createElement("div",{key:n,className:I.a.group},_.a.createElement(w.j,{type:"c1",color:"grey",className:I.a.group_name},t.name||n),o()(t).map(function(a,r){return"name"!==a&&e.renderControls(t[a],a,n,r)}))}},{key:"renderResetButton",value:function(){var t=this.state.dafaultParams,n=this.props.data,e=this.context.device;return o()(n).length?_.a.createElement("div",{className:b()(I.a.reset,r()({},I.a.m_disabled,t)),onClick:this.onSetDefault.bind(this)},_.a.createElement(M.a,{className:b()({fill_dark_grey:"mobile"!==e.type,fill_light_grey:"mobile"===e.type}),style:{width:"13px",display:"inline-block"}}),_.a.createElement(w.j,{style:{display:"inline-block",marginLeft:"5px"},type:"b1",color:"grey"},"Reset")):null}},{key:"renderParams",value:function(){var t=this,n=this.props.data,e=o()(this.props.data);return e.length?_.a.createElement("div",{className:I.a.groups},e.map(function(e){return t.renderGroup(n[e],e)})):null}},{key:"render",value:function(){return _.a.createElement("div",{className:I.a.padding},_.a.createElement("div",{className:I.a.controls_wrapper},_.a.createElement("div",{className:I.a.header},_.a.createElement(w.j,{type:"h4",color:"black",className:I.a.title},"Params"),this.renderResetButton()),this.renderParams()))}}]),n}(x.Component);O.propTypes={data:E.a.oneOfType([E.a.object]),stateData:E.a.oneOfType([E.a.object]),onChangeParams:E.a.func},O.contextTypes={device:E.a.object},O.defaultProps={data:{},stateData:{},onChangeParams:function(){}},n.a=O},function(t,n,e){"use strict";var a=e(68),r=e.n(a),i=e(16),o=e.n(i);n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 19 17"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("rect",{fill:"#FF610D",width:"18.133",height:"17",rx:"5"}),o.a.createElement("text",{fontFamily:"OpenSans-Bold, Open Sans",fontSize:"10",fontWeight:"bold",letterSpacing:".214",fill:"#FFF"},o.a.createElement("tspan",{x:"6.214",y:"12"},"C"))))}},function(t,n,e){"use strict";var a=e(68),r=e.n(a),i=e(16),o=e.n(i);n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 19 17"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("rect",{fill:"#00D093",width:"18.133",height:"17",rx:"5"}),o.a.createElement("text",{fontFamily:"OpenSans-Bold, Open Sans",fontSize:"10",fontWeight:"bold",letterSpacing:".214",fill:"#FFF"},o.a.createElement("tspan",{x:"5.333",y:"12"},"U"))))}},function(t,n,e){"use strict";var a=e(68),r=e.n(a),i=e(16),o=e.n(i);n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 13 13"},t),o.a.createElement("defs",null,o.a.createElement("path",{d:"M12.985 4.107c-.005.063.004.126-.013.188a1.032 1.032 0 0 1-.832.745c-.026.006-.05.014-.077.017l-.007.001c-1.032.104-2.428.153-3.448.164a.904.904 0 0 1-.559-.159.754.754 0 0 1-.145-1.086c.12-.15.284-.25.462-.282.551-.098 1.226-.125 1.873-.152-.315-.146-.653-.277-.853-.426a4.945 4.945 0 0 0-2.94-.957c-2.67 0-4.834 2.08-4.834 4.646s2.165 4.645 4.834 4.645c2.366 0 4.331-1.633 4.75-3.79l1.583.287C12.22 10.823 9.6 13 6.446 13 2.886 13 0 10.227 0 6.806 0 3.386 2.887.612 6.446.612c1.468 0 2.822.471 3.906 1.266.289.212.502.564.7.92-.144-.673-.314-1.392-.36-1.996A.722.722 0 0 1 10.86.3a.828.828 0 0 1 1.13-.14.829.829 0 0 1 .301.48c.247.95.55 2.261.706 3.246v.008c.01.07-.006.141-.012.212",id:"a_reset"})),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("mask",{id:"b_reset",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#a_reset"})),o.a.createElement("use",{"data-fill":!0,xlinkHref:"#a_reset"}),o.a.createElement("g",{mask:"url(#b_reset)","data-fill":!0},o.a.createElement("rect",{width:"22",height:"22",rx:"3",transform:"translate(-5 -5)"}))))}},function(t,n,e){var a=e(460);"string"==typeof a&&(a=[[t.i,a,""]]),e(65)(a,{hmr:!0,transform:void 0}),a.locals&&(t.exports=a.locals)},function(t,n,e){(n=t.exports=e(64)(!1)).push([t.i,'.padding_31lxD{padding-bottom:calc(108.5% + 20px)}.controls_wrapper_1HE7F{position:absolute;top:0;left:0;width:100%;z-index:5;height:100%;border-radius:8px;border:1px solid #f1f3f8}.header_3IjtT{padding:20px;border-bottom:1px solid #f1f3f8}.title_1TFHN{width:calc(100% - 60px)}.reset_10GVs,.title_1TFHN{display:inline-block;vertical-align:top}.reset_10GVs{cursor:pointer;transition:opacity .3s}.reset_10GVs:hover{opacity:.6}.groups_26oVK{padding:20px;height:calc(100% - 69px);overflow:auto;-webkit-overflow-scrolling:touch}.group_name_1NEAg{margin-bottom:21px}.group_1YdJn{margin-bottom:36px;border-bottom:1px solid #f1f3f8}.group_item_3ONTt{text-align:left;margin-bottom:14px}.group_item_3ONTt:before{display:inline-block;height:100%;vertical-align:middle;content:""}.group_item_name_1j_Os{width:98px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;vertical-align:middle;margin-right:20px}.group_item_value_3Z3pS{width:40px;margin-left:15px}.group_item_value_3Z3pS,.tabs_3aJxw{display:inline-block;vertical-align:middle}.tabs_3aJxw{width:calc(100% - 160px)}.slider_3GtEp{width:calc(100% - 205px)}.icon_2388v,.slider_3GtEp{display:inline-block;vertical-align:middle}.icon_2388v{margin-right:10px;width:22px}.m_disabled_Vv9Rz{pointer-events:none;opacity:.5}@media (max-width:768px),(max-width:812px) and (max-height:375px){.padding_31lxD{padding-bottom:calc(100vh - 60px)}.controls_wrapper_1HE7F{border-radius:0;border:none}.header_3IjtT{padding:15px 30px;border-bottom:1px solid rgba(245,246,249,.19)}.groups_26oVK{height:calc(100% - 59px);padding:30px}.title_1TFHN{color:#f4f5f9!important}.group_1YdJn{border-bottom:none}.group_name_1NEAg{margin-bottom:16px}.group_item_name_1j_Os,.group_item_value_3Z3pS{color:#f4f5f9!important}}',""]),n.locals={padding:"padding_31lxD",controls_wrapper:"controls_wrapper_1HE7F",header:"header_3IjtT",title:"title_1TFHN",reset:"reset_10GVs",groups:"groups_26oVK",group_name:"group_name_1NEAg",group:"group_1YdJn",group_item:"group_item_3ONTt",group_item_name:"group_item_name_1j_Os",group_item_value:"group_item_value_3Z3pS",tabs:"tabs_3aJxw",slider:"slider_3GtEp",icon:"icon_2388v",m_disabled:"m_disabled_Vv9Rz"}},function(t,n,e){"use strict";n.a=function(t){return o.a.createElement("svg",r()({viewBox:"0 0 15 12"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M1 2h4M9 2h5.333M11.667 10h2.666M1 10h8.333","data-stroke":!0,strokeLinecap:"round"}),o.a.createElement("path",{d:"M7.667 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0M10.333 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0","data-fill":!0})))};var a=e(68),r=e.n(a),i=e(16),o=e.n(i)},,function(t,n,e){"use strict";n.a=function(t,n,e){if(n){var a=function(t,e){return n/t}(t);if(a<=e)return{width:n,height:a}}return{width:function(t,n){return t*e}(t),height:e}}},function(t,n,e){"use strict";n.a=function(t,n){return t?i&&window.rollbar?new r.a(function(e){return window.rollbar.error(t,n,e)}):void 0:null};var a=e(120),r=e.n(a),i="production"===e(224).d},function(t,n,e){e(262),e(256),e(259),e(466),e(478),e(479),t.exports=e(74).Promise},function(t,n,e){"use strict";var a,r,i,o,s=e(155),u=e(79),c=e(121),l=e(208),f=e(92),h=e(107),p=e(125),d=e(467),v=e(468),g=e(209),m=e(210).set,y=e(473)(),x=e(151),_=e(211),k=e(474),b=e(212),S=u.TypeError,E=u.process,w=E&&E.versions,T=w&&w.v8||"",P=u.Promise,A="process"==l(E),M=function(){},C=r=x.f,I=!!function(){try{var t=P.resolve(1),n=(t.constructor={})[e(80)("species")]=function(t){t(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof n&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},V=function(t,n){if(!t._n){t._n=!0;var e=t._c;y(function(){for(var a=t._v,r=1==t._s,i=0,o=function(n){var e,i,o,s=r?n.ok:n.fail,u=n.resolve,c=n.reject,l=n.domain;try{s?(r||(2==t._h&&j(t),t._h=1),!0===s?e=a:(l&&l.enter(),e=s(a),l&&(l.exit(),o=!0)),e===n.promise?c(S("Promise-chain cycle")):(i=O(e))?i.call(e,u,c):u(e)):c(a)}catch(t){l&&!o&&l.exit(),c(t)}};e.length>i;)o(e[i++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){m.call(u,function(){var n,e,a,r=t._v,i=L(t);if(i&&(n=_(function(){A?E.emit("unhandledRejection",r,t):(e=u.onunhandledrejection)?e({promise:t,reason:r}):(a=u.console)&&a.error&&a.error("Unhandled promise rejection",r)}),t._h=A||L(t)?2:1),t._a=void 0,i&&n.e)throw n.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,function(){var n;A?E.emit("rejectionHandled",t):(n=u.onrejectionhandled)&&n({promise:t,reason:t._v})})},U=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),V(n,!0))},K=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw S("Promise can't be resolved itself");(n=O(t))?y(function(){var a={_w:e,_d:!1};try{n.call(t,c(K,a,1),c(U,a,1))}catch(t){U.call(a,t)}}):(e._v=t,e._s=1,V(e,!1))}catch(t){U.call({_w:e,_d:!1},t)}}};I||(P=function(t){d(this,P,"Promise","_h"),p(t),a.call(this);try{t(c(K,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(475)(P.prototype,{then:function(t,n){var e=C(g(this,P));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=A?E.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&V(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new a;this.promise=t,this.resolve=c(K,t,1),this.reject=c(U,t,1)},x.f=C=function(t){return t===P||t===o?new i(t):r(t)}),f(f.G+f.W+f.F*!I,{Promise:P}),e(163)(P,"Promise"),e(476)("Promise"),o=e(74).Promise,f(f.S+f.F*!I,"Promise",{reject:function(t){var n=C(this);return(0,n.reject)(t),n.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(t){return b(s&&this===o?P:this,t)}}),f(f.S+f.F*!(I&&e(477)(function(t){P.all(t).catch(M)})),"Promise",{all:function(t){var n=this,e=C(n),a=e.resolve,r=e.reject,i=_(function(){var e=[],i=0,o=1;v(t,!1,function(t){var s=i++,u=!1;e.push(void 0),o++,n.resolve(t).then(function(t){u||(u=!0,e[s]=t,--o||a(e))},r)}),--o||a(e)});return i.e&&r(i.v),e.promise},race:function(t){var n=this,e=C(n),a=e.reject,r=_(function(){v(t,!1,function(t){n.resolve(t).then(e.resolve,a)})});return r.e&&a(r.v),e.promise}})},function(t,n){t.exports=function(t,n,e,a){if(!(t instanceof n)||void 0!==a&&a in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var a=e(121),r=e(469),i=e(470),o=e(93),s=e(250),u=e(471),c={},l={};(n=t.exports=function(t,n,e,f,h){var p,d,v,g,m=h?function(){return t}:u(t),y=a(e,f,n?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(p=s(t.length);p>x;x++)if((g=n?y(o(d=t[x])[0],d[1]):y(t[x]))===c||g===l)return g}else for(v=m.call(t);!(d=v.next()).done;)if((g=r(v,y,d.value,n))===c||g===l)return g}).BREAK=c,n.RETURN=l},function(t,n,e){var a=e(93);t.exports=function(t,n,e,r){try{return r?n(a(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&a(i.call(t)),n}}},function(t,n,e){var a=e(127),r=e(80)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||i[r]===t)}},function(t,n,e){var a=e(208),r=e(80)("iterator"),i=e(127);t.exports=e(74).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[a(t)]}},function(t,n){t.exports=function(t,n,e){var a=void 0===e;switch(n.length){case 0:return a?t():t.call(e);case 1:return a?t(n[0]):t.call(e,n[0]);case 2:return a?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return a?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return a?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var a=e(79),r=e(210).set,i=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,u="process"==e(123)(o);t.exports=function(){var t,n,e,c=function(){var a,r;for(u&&(a=o.domain)&&a.exit();t;){r=t.fn,t=t.next;try{r()}catch(a){throw t?e():n=void 0,a}}n=void 0,a&&a.enter()};if(u)e=function(){o.nextTick(c)};else if(!i||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);e=function(){l.then(c)}}else e=function(){r.call(a,c)};else{var f=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(a){var r={fn:a,next:void 0};n&&(n.next=r),t||(t=r,e()),n=r}}},function(t,n,e){var a=e(79).navigator;t.exports=a&&a.userAgent||""},function(t,n,e){var a=e(122);t.exports=function(t,n,e){for(var r in n)e&&t[r]?t[r]=n[r]:a(t,r,n[r]);return t}},function(t,n,e){"use strict";var a=e(79),r=e(74),i=e(110),o=e(108),s=e(80)("species");t.exports=function(t){var n="function"==typeof r[t]?r[t]:a[t];o&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,e){var a=e(80)("iterator"),r=!1;try{var i=[7][a]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!r)return!1;var e=!1;try{var i=[7],o=i[a]();o.next=function(){return{done:e=!0}},i[a]=function(){return o},t(i)}catch(t){}return e}},function(t,n,e){"use strict";var a=e(92),r=e(74),i=e(79),o=e(209),s=e(212);a(a.P+a.R,"Promise",{finally:function(t){var n=o(this,r.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(t,n,e){"use strict";var a=e(92),r=e(151),i=e(211);a(a.S,"Promise",{try:function(t){var n=r.f(this),e=i(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},function(t,n,e){"use strict";n.a=function(t,n){var e=t.tick,a=t.init,i=t.op,o=t.params;if(e&&"function"!=typeof e)throw Error("Error in "+n+" example: tick must be a function");if(a&&"function"!=typeof a)throw Error("Error in "+n+" example: init must be a function");if(i&&"function"!=typeof i)throw Error("Error in "+n+" example: op must be a function");if(o&&("object"!==(void 0===o?"undefined":r()(o))||Array.isArray(o)))throw Error("Error in "+n+" example: params must be an object")};var a=e(156),r=e.n(a)},function(t,n,e){(n=t.exports=e(64)(!1)).push([t.i,'.example_wrapper_2rbHc{height:100%;padding:40px 70px;text-align:center}.example_wrapper_2rbHc:before{content:""}.container_1Agb5,.example_wrapper_2rbHc:before{display:inline-block;vertical-align:middle;height:100%}.container_1Agb5{max-height:615px;width:100%;max-width:1200px}.fps_29XUm{opacity:0;display:inline-block;transition:opacity .3s}.part_2rOoU{position:relative;width:100%;display:inline-block;vertical-align:top;margin-right:20px}.part_2rOoU:last-child{margin-right:0}.title_3AJRi{margin-bottom:42px}.title_text_VcKJ7{margin-right:30px}.none_1OcLz{display:none}.close_block_1xXt1{padding:30px 30px 0 0;z-index:4;position:absolute;bottom:30px;left:30px}.icon_1yzeb{margin-right:10px;height:15px}.icon_1yzeb,.sett_text_2I_hx{display:inline-block;vertical-align:top}.sett_text_2I_hx{line-height:.8!important}.mask_3F1Wo{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.7;z-index:4;background-color:#fff}@media (max-width:768px),(max-width:812px) and (max-height:375px){.example_wrapper_2rbHc{padding:0;padding-top:60px;overflow:hidden}.container_1Agb5{position:relative;max-height:100%}.title_3AJRi{position:absolute;top:20px;left:25px;z-index:4;color:#f4f5f9!important;max-width:calc(100% - 50px)}.part_2rOoU{width:100%;height:100%}.part_2rOoU:last-child{position:absolute;top:0;left:0;width:100%;height:100%;z-index:3}}.error_container_3m_4F{display:inline-block;max-width:430px;padding:0 30px;text-align:center;vertical-align:middle}.error_icon_3d_nD{display:inline-block;margin-bottom:55px;width:85px}.button_26a8F{width:190px;padding:0 10px!important;margin-top:55px}',""]),n.locals={example_wrapper:"example_wrapper_2rbHc",container:"container_1Agb5",fps:"fps_29XUm",part:"part_2rOoU",title:"title_3AJRi",title_text:"title_text_VcKJ7",none:"none_1OcLz",close_block:"close_block_1xXt1",icon:"icon_1yzeb",sett_text:"sett_text_2I_hx",mask:"mask_3F1Wo",error_container:"error_container_3m_4F",error_icon:"error_icon_3d_nD",button:"button_26a8F"}},function(t,n,e){var a={"./adaptive_threshold.js":[560,96],"./canny_edges.js":[561,95],"./color_segmentation.js":[562,94],"./conv2d.js":[563,93],"./dilate.js":[564,92],"./downsample.js":[565,91],"./erode.js":[566,90],"./extract_mean_std.js":[567,89],"./gaussian_blur.js":[568,88],"./histogram.js":[569,87],"./histogram_equalization.js":[570,86],"./hog.js":[571,85],"./hsv_color.js":[572,84],"./math_pixelwise.js":[573,83],"./math_tensor_scalar.js":[574,82],"./morphology_ex.js":[575,81],"./motion_detect.js":[576,80],"./norm.js":[577,79],"./pc_lines.js":[578,78],"./resize.js":[579,77],"./sat.js":[580,76],"./skin_test.js":[581,75],"./sobel_operator.js":[582,74],"./threshold.js":[583,73],"./upsample.js":[584,72]};function r(t){var n=a[t];return n?e.e(n[1]).then(function(){return e(n[0])}):Promise.reject(Error("Cannot find module '"+t+"'."))}r.keys=function(){return Object.keys(a)},r.id=482,t.exports=r}]));